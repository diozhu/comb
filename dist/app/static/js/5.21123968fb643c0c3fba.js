(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"/V4U":function(t,e,i){"use strict";i.r(e);var s={name:"snake",props:{size:Number,color:String},computed:{spinnerColor:function(){return this.color||this.$parent.color||"#007AFF"}}},n=(i("NbUc"),i("KHd+")),o=Object(n.a)(s,function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"v-spinner__snake",style:{"border-top-color":"transparent","border-right-color":this.spinnerColor,"border-left-color":this.spinnerColor,"border-bottom-color":this.spinnerColor}})},[],!1,null,null,null);e.default=o.exports},"/lTB":function(t,e,i){"use strict";var s=i("x0j7");i.n(s).a},"1MEp":function(t,e,i){"use strict";var s=i("P5Lg"),n={name:"v-text",props:{value:String,limit:{type:Number,default:0},length:Number,expandEnabled:{type:Boolean,default:!1}},data:function(){return{}},created:function(){},methods:{handleClick:function(){var t="limit"+this.limit;Object(s.d)(this.$el,t)?Object(s.g)(this.$el,t):Object(s.a)(this.$el,t)}},render:function(t){var e={attrs:{id:"vText"+this._uid},class:["v-text",1===this.limit?"single":this.limit?"limit"+this.limit:""]};return this.expandEnabled&&(e.on={click:this.handleClick}),t("p",e,this.length&&this.value?this.value.substring(0,this.length):this.value)}},o=(i("Cwv2"),i("KHd+")),l=Object(o.a)(n,void 0,void 0,!1,null,null,null);e.a=l.exports},"1tEt":function(t,e,i){},"2xt5":function(t,e,i){},"3DT5":function(t,e,i){"use strict";var s=i("MUE/");i.n(s).a},"4/FN":function(t,e,i){"use strict";var s=i("pO+c");i.n(s).a},"4uyO":function(t,e,i){},"8dV5":function(t,e,i){},A8F1:function(t,e,i){"use strict";var s=i("8dV5");i.n(s).a},AqRN:function(t,e,i){"use strict";i.r(e);var s=i("4d7F"),n=i.n(s),o=i("QbLZ"),l=i.n(o),a=i("1MEp"),r=i("iQJk"),c=i("RNA+"),u=i("mYNw"),d=i("20nU"),f=i("626b"),h=i("WIBD"),v={components:{vText:a.a,vFeed:r.a,pFollow:c.a,vScroll:u.a},data:function(){return{flashTag:!0,listData:[]}},computed:l()({},Object(h.mapGetters)(["userInfo","follows"])),mounted:function(){this.$logger.log("scroll.mounted... ")},methods:{init:function(){},getList:function(t){var e=this,i=t.offset,s=void 0===i?0:i,o=t.limit,l=void 0===o?d.a.LIMIT:o;return f.i({offset:s,limit:l}).then(function(t){return e.$logger.log("scroll.methods.getList: SUCCESS, ",t),t.length&&t.length>0&&(e.listData=e.listData.concat(t)),n.a.resolve(t)})},goDetail:function(t){this.$router.push({name:"scroll-two",query:{subjectId:this.$route.query.subjectId,id:t.id}})},handleTest:function(){var t=this;this.flashTag=!1,this.listData=[],this.$nextTick(function(){t.flashTag=!0})}}},g=(i("ngrr"),i("KHd+")),p=Object(g.a)(v,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"page page-scroll"},[i("v-scroll",{attrs:{func:t.getList,"func-type":"section",enabled:t.flashTag},model:{value:t.listData,callback:function(e){t.listData=e},expression:"listData"}},[i("h2",[t._v("单滚动条 样例")]),t._v(" "),i("p",{staticClass:"desc",on:{click:t.handleTest}},[t._v('添加了vuex管理"关注"状态的示例；\n\n滚动条要求以v-model形式绑定当前listData，用于刷新时清除数据重新渲染；\n\nfuncType为分页方式，本例采用node的section方式，与php对接时此参数可忽略，默认即可；\n\ngetList函数需要设定形参，由滚动条组件回传当前页码，用于与接口请求分页数据；\n\n            ')]),t._v(" "),i("ul",t._l(t.listData,function(e,s){return i("li",{key:s,on:{click:function(i){t.goDetail(e)}}},[i("v-feed",{attrs:{feedId:e.userInfo.feedId,imgUrl:e.userInfo.avatar,title:e.userInfo.title,subtitle:e.userInfo.subtitle,classes:"title small no-border"}}),t._v(" "),i("p-follow",{attrs:{followuid:parseInt(e.userInfo.id),userid:t.userInfo.id||0,status:e.userInfo.isfollow}}),t._v(" "),i("v-text",{attrs:{classes:"content",value:e.title}})],1)}))])],1)},[],!1,null,null,null);e.default=p.exports},C8RR:function(t,e,i){"use strict";var s=i("qC/i");i.n(s).a},CcUO:function(t,e,i){},Cwv2:function(t,e,i){"use strict";var s=i("CcUO");i.n(s).a},EKu2:function(t,e,i){"use strict";i.r(e);var s=i("k3FD"),n={data:function(){return{}},mounted:function(){s.a.log("spinner mounted... ")},components:{"v-spinner":i("XPLT").a},methods:{}},o=(i("Memc"),i("KHd+")),l=Object(o.a)(n,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"page page-spinner"},[i("h2",[t._v("加载动画参考样例")]),t._v(" "),i("div",{staticClass:"listview listview-form"},[i("ul",[i("li",[i("div",[i("div",[t._v("snake")]),t._v(" "),i("v-spinner",{attrs:{color:"#007AFF",type:"snake"}})],1)]),t._v(" "),i("li",[i("div",[i("div",[t._v("triple-bounce")]),t._v(" "),i("v-spinner",{attrs:{color:"#777E8C",type:"triple-bounce"}})],1)]),t._v(" "),i("li",[i("div",[i("div",[t._v("fading-circle")]),t._v(" "),i("v-spinner",{attrs:{color:"#007AFF",type:"fading-circle"}})],1)])])])])},[],!1,null,null,null);e.default=l.exports},F94j:function(t,e,i){"use strict";var s=i("1tEt");i.n(s).a},JhTv:function(t,e,i){"use strict";i.r(e);var s={name:"triple-bounce",props:{size:Number,color:String},computed:{bounceStyle:function(){return{backgroundColor:this.spinnerColor}}}},n=(i("3DT5"),i("KHd+")),o=Object(n.a)(s,function(){return this.$createElement,this._self._c,this._m(0)},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"v-spinner__triple-bounce"},[e("div",{staticClass:"bounce1"}),this._v(" "),e("div",{staticClass:"bounce2"}),this._v(" "),e("div",{staticClass:"bounce3"})])}],!1,null,null,null);e.default=o.exports},"MUE/":function(t,e,i){},Memc:function(t,e,i){"use strict";var s=i("tHAK");i.n(s).a},NbUc:function(t,e,i){"use strict";var s=i("4uyO");i.n(s).a},QVLH:function(t,e,i){"use strict";i.r(e);var s=i("4d7F"),n=i.n(s),o=i("QbLZ"),l=i.n(o),a=i("1MEp"),r=i("iQJk"),c=i("RNA+"),u=i("20nU"),d=i("626b"),f=i("UTlA"),h=i("mYNw"),v=i("WIBD"),g={components:{vText:a.a,vFeed:r.a,pFollow:c.a,vSwipeLabel:f.a,vScroll:h.a},data:function(){return{labs:[{id:0,txt:"菜单一"},{id:1,txt:"菜单二"}],currentLab:0,listData:[],listDataSec:[]}},computed:l()({},Object(v.mapGetters)(["userInfo","follows"])),mounted:function(){this.$logger.log("scroll-two.mounted... ")},methods:{init:function(){},clickLabel:function(t){this.currentLab=t.id},handelReset:function(t){t&&(this.currentLab=0)},getList:function(t){var e=this,i=t.offset,s=void 0===i?0:i,o=t.limit,l=void 0===o?u.a.LIMIT:o,a=t.refresh,r=void 0!==a&&a;return d.i({offset:s,limit:l}).then(function(t){return e.$logger.log("scroll.methods.getList: SUCCESS, ",t),r&&(e.listData=[]),t.length&&t.length>0&&(e.listData=e.listData.concat(t)),n.a.resolve(t)})},getSecList:function(t){var e=this,i=t.offset,s=void 0===i?0:i,o=t.limit,l=void 0===o?u.a.LIMIT:o,a=t.refresh,r=void 0!==a&&a;return d.i({offset:s,limit:l}).then(function(t){return e.$logger.log("scroll.methods.getSecList: SUCCESS, ",t),r&&(e.listDataSec=[]),t.length&&t.length>0&&(e.listDataSec=e.listDataSec.concat(t)),n.a.resolve(t)})},goDetail:function(t){this.$router.push({name:"detail",query:{subjectId:this.$route.query.subjectId,id:t.id},hash:"#vSwipeLableComments"})}}},p=(i("4/FN"),i("KHd+")),m=Object(p.a)(g,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"page page-scroll page-scroll-two"},[i("v-scroll",{attrs:{func:t.getList,"func-type":"section",enabled:0===t.currentLab},on:{reset:t.handelReset},model:{value:t.listData,callback:function(e){t.listData=e},expression:"listData"}},[i("h2",[t._v("多滚动条 样例")]),t._v(" "),i("p",{staticClass:"desc"},[t._v("如无特殊情况，不需要提升滚动容器，把相同内容放入到多个滚动条中，仍使用div容器进行滚动；")]),t._v(" "),i("v-swipe-label",t._l(t.labs,function(e,s){return i("div",{key:s,class:["itm",{cur:t.currentLab==e.id}],on:{click:function(i){t.clickLabel(e)}}},[t._v(t._s(e.txt))])})),t._v(" "),0==t.currentLab?i("ul",t._l(t.listData,function(e,s){return i("li",{key:s,on:{click:function(i){t.goDetail(e)}}},[i("v-feed",{attrs:{feedId:e.userInfo.feedId,imgUrl:e.userInfo.avatar,title:e.userInfo.title,subtitle:e.userInfo.subtitle,classes:"title no-border"}}),t._v(" "),i("p-follow",{attrs:{followuid:parseInt(e.userInfo.id),userid:t.userInfo.id||0,status:e.userInfo.isfollow,border:!0}})],1)})):t._e()],1),t._v(" "),i("v-scroll",{attrs:{func:t.getSecList,"func-type":"section",enabled:1===t.currentLab},on:{reset:t.handelReset},model:{value:t.listDataSec,callback:function(e){t.listDataSec=e},expression:"listDataSec"}},[i("h2",[t._v("多滚动条 样例")]),t._v(" "),i("p",{staticClass:"desc"},[t._v("如无特殊情况，不需要提升滚动容器，把相同内容放入到多个滚动条中，仍使用div容器进行滚动；")]),t._v(" "),i("v-swipe-label",t._l(t.labs,function(e,s){return i("div",{key:s,class:["itm",{cur:t.currentLab==e.id}],on:{click:function(i){t.clickLabel(e)}}},[t._v(t._s(e.txt))])})),t._v(" "),1==t.currentLab?i("ul",t._l(t.listDataSec,function(e,s){return i("li",{key:s,on:{click:function(i){t.goDetail(e)}}},[i("v-feed",{attrs:{feedId:e.userInfo.feedId,imgUrl:e.userInfo.avatar,title:e.userInfo.title,subtitle:e.userInfo.subtitle,classes:"title small"}}),t._v(" "),i("p-follow",{attrs:{followuid:parseInt(e.userInfo.id),userid:t.userInfo.id||0,status:e.userInfo.isfollow,border:!0}}),t._v(" "),i("v-text",{attrs:{classes:"content",value:e.title}})],1)})):t._e()],1)],1)},[],!1,null,null,null);e.default=m.exports},R00a:function(t,e,i){"use strict";var s=i("XoBN");i.n(s).a},"RNA+":function(t,e,i){"use strict";var s=i("QbLZ"),n=i.n(s),o=i("uhV7"),l=i("WIBD"),a={name:"p-follow",components:{vButton:o.a},props:{disabled:{type:Boolean,default:!1},userid:{type:Number,default:0},followuid:{type:Number,default:0,required:!0},status:{type:Number,default:0,required:!0},border:{type:Boolean,default:!1}},data:function(){return{stateStr:"+关注",btnClasses:(this.value?"":"red ")+(this.border?"":"no-border ")}},computed:n()({},Object(l.mapState)({followStatus:function(t){var e="";return this.userid===this.followuid?(e="我",this.btnClasses="no-border"):(t.follow.follows[this.followuid]?(e="已关注",this.btnClasses=""):(e="+关注",this.btnClasses="red"),this.border||(this.btnClasses+=" no-border")),e}})),watch:{},created:function(){this.init()},methods:n()({},Object(l.mapMutations)(["GET_FOLLOW"]),{init:function(){void 0===this.$store.state.follow.follows[this.followuid]&&this.followuid&&this.$store.commit("SET_FOLLOW",{uid:this.followuid,status:this.status})},handleClick:function(t){this.userid!==this.followuid&&(this.$store.state.follow.follows[this.followuid]?this.delAttention():this.addAttention())},addAttention:function(){this.$store.dispatch("followAdd",this.followuid),this.$toast({message:"关注成功",duration:500,position:"bottom"})},delAttention:function(){this.$store.dispatch("followDel",this.followuid),this.$toast({message:"已取消关注",duration:500,position:"bottom"})}})},r=(i("fOW3"),i("KHd+")),c=Object(r.a)(a,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"p-follow"},[i("v-button",{attrs:{type:"info",disabled:t.disabled,"cus-class":t.btnClasses},on:{click:function(e){return e.stopPropagation(),t.handleClick(e)}}},[t._v(t._s(t.followStatus))])],1)},[],!1,null,null,null);e.a=c.exports},UHKU:function(t,e,i){"use strict";i.r(e);var s=i("4d7F"),n=i.n(s),o=i("QbLZ"),l=i.n(o),a=i("1MEp"),r=i("iQJk"),c=i("RNA+"),u=i("XPLT"),d=i("20nU"),f=i("i7/w"),h=i.n(f),v=function(t){h.a.config.silent||console.warn(t)},g={name:"intersect",abstract:!0,props:{threshold:{type:Array,required:!1,default:function(){return[0,.2]}},root:{type:HTMLElement,required:!1,default:function(){return null}},rootMargin:{type:String,required:!1,default:function(){return"0px 0px 0px 0px"}}},created:function(){var t=this;this.observer=new window.IntersectionObserver(function(e){e[0].isIntersecting?t.$emit("enter",[e[0]]):t.$emit("leave",[e[0]]),t.$emit("change",[e[0]])},{threshold:this.threshold,root:this.root,rootMargin:this.rootMargin})},mounted:function(){var t=this;this.$nextTick(function(){if(t.$slots.default&&t.$slots.default.length>1)v("[VueIntersect] You may only wrap one element in a <intersect> component.");else if(!t.$slots.default||t.$slots.default.length<1)return void v("[VueIntersect] You must have one child inside a <intersect> component.");t.observer.POLL_INTERVAL=100,t.observer.observe(t.$slots.default[0].elm)})},destroyed:function(){this.observer.disconnect()},render:function(){return this.$slots.default?this.$slots.default[0]:null}},p=i("KHd+"),m=Object(p.a)(g,void 0,void 0,!1,null,null,null).exports,_=i("ywuS"),b=i("626b"),y=i("P5Lg"),w={name:"v-scroll",props:{id:String,value:{type:Array,default:function(){return[]}},func:Function,funcType:{type:String,default:"page"},enabled:{type:Boolean,default:!0},pullAbled:{type:Boolean,default:!1},toper:{type:Boolean,default:!1},scrollDistance:{type:Number,default:100},tombstone:{type:Boolean,default:!1}},components:{vSpinner:u.a,vIntersect:m},data:function(){return{uid:this._uid,currentValue:this.value,goTopTag:!1,oTime:-1,pageSize:d.a.LIMIT,offset:0,limit:d.a.LIMIT,page:1,pageNum:d.a.LIMIT,hasData:!0,hasMore:!0,isLoading:!1,scrollEndTxt:!1,refreshTag:!1,isEnabled:this.enabled}},computed:{isShowText:function(){return!(!this.hasData||this.hasMore)}},watch:{value:function(t){this.currentValue=t},currentValue:function(t){this.$emit("input",t)},enabled:function(t){this.$logger.log("v-scroll.watch.enabled! "),this.isEnabled=t,!0===t&&this.value.length<=0&&this.refreshList()}},created:function(){this.$logger.log("[v-scroll]."+this._uid+".created..."),_.a.$on("v-scroll.refreshList",this.refreshList),_.a.$on("v-scroll.getList",this.getList),this.$route.matched.some(function(t){return t.meta.keepAlive})||this.init()},mounted:function(){this.$logger.log("[v-scroll]."+this._uid+".mounted...",this.$route.name,this.$parent.$route.name,this.$store.state.route.name),this.$logger.log("###### [v-scroll]."+this._uid+".mounted...","IntersectionObserver"in window)},activated:function(){this.$logger.log("*[v-scroll]."+this._uid+".activated...",this._inactive),this.isEnabled=this.enabled,this.$router.direct()&&this.init()},deactivated:function(){this.$logger.log("*[v-scroll]."+this._uid+".deactivated...",this._inactive),this.isEnabled=!1},beforeDestroy:function(){this.$logger.log("*[v-scroll]."+this._uid+".beforeDestroy...")},methods:{reset:function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).resetData,e=void 0===t||t;this.oTime=-1,this.pageSize=d.a.LIMIT,this.offset=0,this.limit=d.a.LIMIT,this.page=1,this.pageNum=d.a.LIMIT,this.hasMore=!0,this.hasData=!0,this.scrollEndTxt=!1,e&&(this.currentValue=[])},init:function(){this.$logger.log("[v-scroll]."+this._uid+".init..."),this.scrollTarget=y.c(this.$refs.container),this.reset()},goTop:function(){var t=this.scrollTarget;this.$logger.log("[v-scroll]."+this._uid+".getList.after: ",t.scrollHeight,t.offsetHeight),t===window?window.scrollTo(0,0):t.scrollTop>0&&(t.scrollTop-=1e3,setTimeout(this.goTop,30))},getList:function(){var t=this;if(this.$logger.log("[v-scroll]."+this._uid+".getList.befor: !!!"),this.isEnabled&&!this.isLoading&&(!this.scrollEndTxt&&this.scrollTarget&&(this.scrollEndTxt=this.scrollTarget.scrollHeight>5*this.scrollTarget.offsetHeight/4),"function"==typeof this.func&&this.hasMore))try{return this.isLoading=!0,this.fetcher||(this.fetcher=b.e(this.func,this.funcType)),this.fetcher.fetch().then(function(e){t.$logger.log("[v-scroll]."+t._uid+".getList.api.after.success: ",e),e&&e.length?(t.hasData=!0,t.currentValue=t.currentValue.concat(e)):t.currentValue&&t.currentValue.length||(t.hasData=!1),(!e||e.length<t.fetcher.limit)&&(t.hasMore=!1)}).then(function(e){t.$logger.log("[v-scroll]."+t._uid+".getList.after: ",t.scrollTarget),t.scrollTarget&&(t.$logger.log("[v-scroll]."+t._uid+".getList.after: ",t.scrollTarget.scrollHeight,t.scrollTarget.offsetHeight),t.$nextTick(function(){t.scrollEndTxt=t.scrollTarget.scrollHeight>5*t.scrollTarget.offsetHeight/4})),t.isLoading=!1})}catch(t){this.$logger.error("[v-scroll]."+this._uid+".getList.after.error: "+t),this.isLoading=!1}},refreshList:function(){var t=this;if(this.isEnabled&&!this._isDestroyed&&(this.$logger.log("!!!v-scroll."+this._uid+".refreshList..."),"function"==typeof this.func)){this.refreshTag=!0;var e=null;if("section"===this.funcType?e=this.getListBySection:"limit"===this.funcType?e=this.getListByLimit:"page"===this.funcType?e=this.getListByPage:"time"===this.funcType&&(e=this.getListByTime),"function"==typeof e)try{this.reset({resetData:!1}),e({refresh:!0}).then(function(e){t.$logger.log("[v-scroll]."+t._uid+".refreshList.after: ",t.currentValue.length),e&&e.length?t.currentValue=e:t.currentValue=[],t.refreshTag=!1}).then(function(e){t.scrollTarget&&(t.$logger.log("[v-scroll]."+t._uid+".refreshList.after: ",t.scrollTarget.scrollHeight,t.scrollTarget.offsetHeight),t.scrollEndTxt=t.scrollTarget.scrollHeight>5*t.scrollTarget.offsetHeight/4)}).catch(function(e){t.refreshTag=!1,t.$logger.error("[v-scroll]."+t._uid+".refreshList.after.error: "+e)})}catch(t){this.refreshTag=!1,this.$logger.error("[v-scroll]."+this._uid+".refreshList.after.error: "+t)}}}}},x=(i("R00a"),Object(p.a)(w,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"v-scroll"},[i("div",{directives:[{name:"scroll-position",rawName:"v-scroll-position"}],ref:"container",staticClass:"v-scroll-container",attrs:{id:"combScroll_"+t._uid}},[i("div",{ref:"content",staticClass:"v-scroll-content"},[t._t("default")],2),t._v(" "),i("v-intersect",{attrs:{threshold:[0,1]},on:{enter:t.getList}},[t.hasMore||t.isShowText&&t.scrollEndTxt&&t.currentValue.length>0?i("div",{staticClass:"v-scroll-bottom"},[i("transition",{attrs:{name:"fade"}},[i("v-spinner",{directives:[{name:"show",rawName:"v-show",value:t.hasMore,expression:"hasMore"}],attrs:{color:"#BBBAC2",type:"triple-bounce"}})],1),t._v(" "),i("transition",{attrs:{name:"fade"}},[i("p",{directives:[{name:"show",rawName:"v-show",value:t.isShowText&&t.scrollEndTxt&&t.currentValue.length>0,expression:"isShowText && scrollEndTxt && currentValue.length > 0"}],staticClass:"v-scroll-bottom-txt"},[t._v("· END ·")])])],1):t._e()]),t._v(" "),!t.hasData&&t.currentValue.length<=0?i("div",{staticClass:"v-scroll-empty"},[t._t("empty",[t._v("暂无数据")])],2):t._e()],1),t._v(" "),i("transition",{attrs:{name:"fade"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.toper&&t.goTopTag,expression:"toper && goTopTag"}],staticClass:"v-scroll-top icon icon-top",on:{click:t.goTop}})])],1)},[],!1,null,null,null).exports),L=i("WIBD"),T={components:{vText:a.a,vFeed:r.a,pFollow:c.a,vScroll:x},data:function(){return{flashTag:!0,listData:[]}},computed:l()({},Object(L.mapGetters)(["userInfo","follows"])),mounted:function(){this.$logger.log("scroll.mounted... ")},methods:{init:function(){},getList:function(t){var e=this,i=t.offset,s=void 0===i?0:i,o=t.limit,l=void 0===o?d.a.LIMIT:o;return b.i({offset:s,limit:l}).then(function(t){return e.$logger.log("scroll.methods.getList: SUCCESS, ",t),t.length&&t.length>0&&(e.listData=e.listData.concat(t)),n.a.resolve(t)})},goDetail:function(t){this.$router.push({name:"scroll-two",query:{subjectId:this.$route.query.subjectId,id:t.id}})},handleTest:function(){var t=this;this.flashTag=!1,this.listData=[],this.$nextTick(function(){t.flashTag=!0})}}},C=(i("C8RR"),Object(p.a)(T,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"page page-scroll-io"},[i("v-scroll",{attrs:{func:t.getList,"func-type":"section",enabled:t.flashTag},model:{value:t.listData,callback:function(e){t.listData=e},expression:"listData"}},[i("h2",[t._v("单滚动条(intersectionObserver) 样例")]),t._v(" "),i("ul",t._l(t.listData,function(e,s){return i("li",{key:s,on:{click:function(i){t.goDetail(e)}}},[i("v-feed",{attrs:{feedId:e.userInfo.feedId,imgUrl:e.userInfo.avatar,title:e.userInfo.title,subtitle:e.userInfo.subtitle,classes:"title small no-border"}}),t._v(" "),i("p-follow",{attrs:{followuid:parseInt(e.userInfo.id),userid:t.userInfo.id||0,status:e.userInfo.isfollow}}),t._v(" "),i("v-text",{attrs:{classes:"content",value:e.title}})],1)}))])],1)},[],!1,null,null,null));e.default=C.exports},UTlA:function(t,e,i){"use strict";var s={name:"v-swipe-label",props:{id:String,fixed:{type:Boolean,default:!1},showBottomLine:{type:Boolean,default:!1},dark:{type:Boolean,default:!1}},data:function(){return{position:0,isSticky:!1,isFixed:!1,floatClass:"",startX:0,lastX:0,lastMoveTime:0,lastMoveStart:0,stopMovingTag:!1,minl:0,maxl:-8e3,conStyle:{left:"0px"},left:0}},computed:{oh:function(){return this.$el.getBoundingClientRect().top}},watch:{"$route.name":function(t){this.fixed&&(this._inactive?(this.$logger.log("v-swipe-label.watch.back..."),window.removeEventListener("scroll",this.scrollHandle)):(this.$logger.log("v-swipe-label.watch.in..."),window.addEventListener("scroll",this.scrollHandle)))}},created:function(){this.$logger.log("v-swipe-label created...")},mounted:function(){var t=this;this.$nextTick(function(){t.init()})},methods:{init:function(){this.maxl=-(this.$refs.content.offsetWidth-this.$refs.container.offsetWidth),this.fixed&&(this.getScrollEventTarget(this.$el).addEventListener("scroll",this.throttle(this.scrollHandle,10)),this.position=this.$el.getBoundingClientRect().top)},throttle:function(t,e){var i=void 0,s=void 0,n=void 0,o=void 0,l=void 0,a=function(){t.apply(o,l),s=i};return function(){if(o=this,l=arguments,i=Date.now(),n&&(clearTimeout(n),n=null),s){var t=e-(i-s);t<0?a():n=setTimeout(function(){a()},t)}else a()}},getScrollEventTarget:function(t){for(var e=t;e&&"HTML"!==e.tagName&&"BODY"!==e.tagName&&1===e.nodeType;){var i=document.defaultView.getComputedStyle(e).overflowY;if("scroll"===i||"auto"===i)return e;e=e.parentNode}return window}}},n=(i("h6FD"),i("KHd+")),o=Object(n.a)(s,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{class:["v-swipe-label",{dark:this.dark}]},[e("div",{ref:"container",staticClass:"v-swipe-label__container",on:{touchmove:function(t){t.stopPropagation()},touchend:function(t){t.stopPropagation()}}},[e("div",{ref:"content",staticClass:"v-swipe-label__content",style:{left:this.left+"px"}},[this._t("default")],2),this._v(" "),this.showBottomLine?e("p",{staticClass:"line"}):this._e()])])},[],!1,null,null,null);e.a=o.exports},Wyo3:function(t,e,i){},XG8o:function(t,e,i){"use strict";i.r(e);var s={name:"fading-circle",props:{size:Number,color:String},computed:{spinnerColor:function(){return this.color||this.$parent.color||"#007AFF"}},created:function(){if(!this.$isServer){this.styleNode=document.createElement("style");var t=".circle-color-"+this._uid+" > div::before { background-color: "+this.spinnerColor+"; }";this.styleNode.type="text/css",this.styleNode.rel="stylesheet",this.styleNode.title="fading circle style",document.getElementsByTagName("head")[0].appendChild(this.styleNode),this.styleNode.appendChild(document.createTextNode(t))}},destroyed:function(){this.styleNode&&this.styleNode.parentNode.removeChild(this.styleNode)}},n=(i("/lTB"),i("KHd+")),o=Object(n.a)(s,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{class:["v-spinner__fading-circle circle-color-"+this._uid]},this._l(12,function(t){return e("div",{key:t,staticClass:"circle",class:["is-circle"+t]})}))},[],!1,null,null,null);e.default=o.exports},XPLT:function(t,e,i){"use strict";var s=["snake","triple-bounce","fading-circle"],n={name:"mt-spinner",computed:{spinner:function(){return"spinner-"+(t=this.type,"[object Number]"==={}.toString.call(t)?(s.length<=t&&(console.warn("'"+t+"' spinner not found, use the default spinner."),t=0),s[t]):(-1===s.indexOf(t)&&(console.warn("'"+t+"' spinner not found, use the default spinner."),t=s[0]),t));var t}},components:{SpinnerSnake:i("/V4U"),SpinnerTripleBounce:i("JhTv"),SpinnerFadingCircle:i("XG8o")},props:{type:{default:0},size:{type:Number,default:28},color:{type:String,default:"#ccc"}}},o=i("KHd+"),l=Object(o.a)(n,function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"v-spinner"},[e(this.spinner,{tag:"component"})],1)},[],!1,null,null,null).exports;i.d(e,"a",function(){return l})},XoBN:function(t,e,i){},Yh7L:function(t,e,i){"use strict";i.r(e);var s=i("iQJk"),n={name:"page-swipe-label",components:{vSwipeLabel:i("UTlA").a,vFeed:s.a},data:function(){return{labs:[{id:0,txt:"菜单一"},{id:1,txt:"菜单二"},{id:2,txt:"菜单三"},{id:3,txt:"菜单四"},{id:4,txt:"菜单五"},{id:5,txt:"菜单六"}],currentLab:0}},mounted:function(){this.$logger.log("swipe label mounted... ")},methods:{onTransitionEnd:function(t){this.$logger.log("!!!!!!!!![swipe-label].onTransitionEnd!",t)},clickLabel:function(t){this.$logger.log("click label: ",t),this.currentLab=t.id}}},o=(i("d/Ej"),i("KHd+")),l=Object(o.a)(n,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"page page-swipe-label"},[i("h2",[t._v("滑动菜单参考样例")]),t._v(" "),i("p",{staticClass:"desc"},[t._v("滑动菜单，可实现超出屏幕宽度后左右滑动的效果。")]),t._v(" "),t._m(0),t._v(" "),i("p",{staticClass:"desc"},[t._v("注：关于fixed，如果希望页面滚动超出滑动菜单时，让菜单置顶功能，目前有个小问题。\n            在ios中，如果浮动元素存在于滚动条内，由于滚动时ios会停止一切js计算，最后造成的效果是飘忽不定；\n            针对这个问题，目前采取的方法是使用position:stiky;的方式，此属性可去caniuse上查看兼容性，苹果的兼容性非常好，所以我进行了机型判断，如果是android，直接用fixed；\n            不过并不完美，当菜单内容宽度超出屏幕宽度太多的时候，个别ios系统会出现内容重绘，造成白底闪烁。你可以试试把下面的labs数组加到10个以上，会很明显（iphone 6 plus 10.x）；\n            试过了transform、overflow等，希望在bfc及合并层上能解决重绘的问题，但是目前还真没好的解决方案，在此备注，有时间时再尝试；\n            在找到更好的方案前，希望：1.尽量不要让滚动条内的元素浮动定位，尽量说服产品。。。2.如果非要悬浮，最好不要超屏幕宽度，超过就会因为重绘而闪烁。\n        ")]),t._v(" "),i("h2",[t._v("示例")]),t._v(" "),i("v-swipe-label",{staticClass:"label-swipe",attrs:{fixed:!0}},t._l(t.labs,function(e,s){return i("div",{key:s,class:["itm",{cur:t.currentLab==e.id}],on:{click:function(i){t.clickLabel(e)}}},[t._v(t._s(e.txt))])})),t._v(" "),i("pre",{directives:[{name:"highlightjs",rawName:"v-highlightjs"}],on:{touchend:function(t){t.stopPropagation()}}},[i("code",{staticClass:"html"},[t._v('\n<v-swipe-label :fixed="true">\n    <div v-for="item in labs"\n         :class="[\'itm\', {cur: currentLab==item.id}]"\n         @click="clickLabel(item)"\n    >{ { item.txt } }</div>\n</v-swipe-label>\n        ')])]),t._v(" "),i("pre",{directives:[{name:"highlightjs",rawName:"v-highlightjs"}],on:{touchend:function(t){t.stopPropagation()}}},[i("code",{staticClass:"html"},[t._v("\nexport default {\n    data() {\n        return {\n            labs: [\n                {id: 0, txt: '菜单一'},\n                {id: 1, txt: '菜单二'},\n                {id: 2, txt: '菜单三'},\n                {id: 3, txt: '菜单四'},\n                {id: 4, txt: '菜单五'},\n                {id: 5, txt: '菜单六'}\n            ],\n            currentLab: 0\n        };\n    },\n    methods: {\n        clickLabel (item) {\n            logger.log('click label: ', item);\n            this.currentLab = item.id;\n        }\n    }\n};\n        ")])]),t._v(" "),i("h2",[t._v("组件嵌套")]),t._v(" "),i("v-swipe-label",{staticClass:"feed-swipe",attrs:{fixed:!0}},t._l(t.labs,function(e,s){return i("v-feed",{key:s,staticClass:"small",class:[{cur:t.currentLab==e.id}],attrs:{feedId:"c_1407459100687437",imgUrl:"http://hy-sport-img.b0.upaiyun.com/upload_image/31383bcec5c838fbc9ca7b7bdaf42d08b75dc1d2.png",title:"老朱",subtitle:"人在江湖飘~"},nativeOn:{click:function(i){t.clickLabel(e)}}})})),t._v(" "),i("p",{staticClass:"desc auto-height"},[t._v("组件需要根据slot内容的实际宽度计算左滑、右划的边界。\n            如果slot为子组件，可能会发生组件渲染先后顺序问题，造成swipe组件无法获取真实宽度进行算，导致滑动失效。\n            如遇此情况，请在子组件的mounted或created中通过init()方法进行rebuild。\n        ")]),t._v(" "),i("pre",{directives:[{name:"highlightjs",rawName:"v-highlightjs"}],on:{touchend:function(t){t.stopPropagation()}}},[i("code",{staticClass:"html"},[t._v("\n            if (typeof this.$parent.$parent.init === 'function') {\n                this.$parent.$parent.init(); // 由于父子组件嵌套，渲染顺序原因，在此需要重新调用父组件init方法重新初始化宽度。 Author by Dio Zhu. on 2017.3.10\n            }\n        ")])]),t._v(" "),i("div",{staticClass:"num"},t._l(300,function(e){return i("p",{key:e},[t._v("模拟数据"+t._s(e))])})),t._v(" "),i("div",{staticClass:"blank"})],1)},[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"attributes"},[i("h2",[t._v("API")]),t._v(" "),i("table",[i("tr",[i("th",[t._v("参数")]),i("th",[t._v("说明")]),i("th",[t._v("类型")]),i("th",[t._v("可选")]),i("th",[t._v("默认")])]),t._v(" "),i("tr",[i("td",[t._v("fixed")]),i("td",[t._v("屏幕滚动时，是否固定")]),i("td",[t._v("Boolean")]),i("td",[t._v("-")]),i("td",[t._v("-")])]),t._v(" "),i("tr",[i("th",[t._v("slots")]),i("th",{attrs:{colspan:"4"}},[t._v("说明")])]),t._v(" "),i("tr",[i("td",[t._v("-")]),i("td",{attrs:{colspan:"4"}},[t._v("需滚动的内容")])])])])}],!1,null,null,null);e.default=l.exports},"d/Ej":function(t,e,i){"use strict";var s=i("Wyo3");i.n(s).a},fOW3:function(t,e,i){"use strict";var s=i("xUbe");i.n(s).a},fjkF:function(t,e,i){},h6FD:function(t,e,i){"use strict";var s=i("2xt5");i.n(s).a},iQJk:function(t,e,i){"use strict";var s=i("YJXF"),n={name:"v-feed",props:{id:String,feedId:String,imgUrl:String,msgNum:String,title:String,subtitle:String,sex:String,age:String,desc:String,classes:String,iconFunc:Function},data:function(){return{}},computed:{feedImg:function(){return s.m(this.imgUrl)},feedClass:function(){return/^o_/.test(this.feedId)||/^s_/.test(this.feedId)?"square":/^g_/.test(this.feedId)?"hexagon":"circle"}},created:function(){},methods:{handleClick:function(t){this.iconFunc&&"function"==typeof this.iconFunc&&(t.stopPropagation(),t.preventDefault(),this.iconFunc(),this.$toast({message:"您是不是想去个人中心？",duration:1e3,position:"bottom"}))}}},o=(i("F94j"),i("KHd+")),l=Object(o.a)(n,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"v-feed",class:[t.classes]},[i("div",{on:{click:t.handleClick}},[i("div",{staticClass:"v-feed__img",class:[t.feedClass]},[i("img",{attrs:{src:t.feedImg}})]),t.msgNum>0?i("i",{staticClass:"v-feed__num",class:[{mix:t.msgNum>9}],domProps:{textContent:t._s(t.msgNum)}}):t._e()]),t._v(" "),i("div",{staticClass:"v-feed__con"},[i("div",{staticClass:"v-feed__con-info"},[i("div",{staticClass:"v-feed__tit",domProps:{textContent:t._s(t.title)}}),t._v(" "),t.sex?i("div",{staticClass:"v-feed__sex icon",class:[{"icon-male":"1"==t.sex},{"icon-female":"2"==t.sex}]}):t._e(),t._v(" "),t.age?i("div",{staticClass:"v-feed__age",domProps:{textContent:t._s(t.age)}}):t._e(),t._v(" "),t.desc?i("div",{staticClass:"v-feed__desc",domProps:{textContent:t._s(t.desc)}}):t._e()]),t._v(" "),i("div",{staticClass:"v-feed__sub",domProps:{textContent:t._s(t.subtitle)}})])])},[],!1,null,null,null);e.a=l.exports},ngrr:function(t,e,i){"use strict";var s=i("r5oQ");i.n(s).a},"pO+c":function(t,e,i){},"qC/i":function(t,e,i){},r5oQ:function(t,e,i){},tHAK:function(t,e,i){},ufz9:function(t,e){},uhV7:function(t,e,i){"use strict";var s={name:"v-button",props:{nativeType:String,type:{type:String,default:"default",validator:function(t){return["default","danger","primary","info"].indexOf(t)>-1}},styles:{type:String,default:"radius",validator:function(t){return["radius","rectangle","circle"].indexOf(t)>-1}},cusClass:String,cusStyle:String,disableClass:String,disabled:Boolean,size:{type:String,default:"normal",validator:function(t){return["normal","small","full"].indexOf(t)>-1}}},data:function(){return{}},methods:{handleClick:function(t){this.$emit("click",t)}}},n=(i("A8F1"),i("KHd+")),o=Object(n.a)(s,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("button",{staticClass:"v-btn",class:[""+t.type,""+t.size,""+t.styles,{"is-disabled":t.disabled}],style:t.cusStyle,attrs:{type:t.nativeType,disabled:t.disabled},on:{click:t.handleClick}},[i("label",{staticClass:"v-btn__text"},[t._t("default")],2)])},[],!1,null,null,null);e.a=o.exports},vFh1:function(t,e,i){"use strict";var s=i("EJiy"),n=i.n(s),o=i("XPLT"),l=i("k3FD"),a=i("ufz9"),r={components:{"v-spinner":o.a},props:{max:{type:Number,default:9},value:{type:Array,default:function(){return[]}},desc:{type:String,default:""},classes:{type:String,default:""},uploaded:{type:Boolean,default:!0},lazyTag:{type:Boolean,default:!1},disableAdd:{type:Boolean,default:!1},disableDel:{type:Boolean,default:!1}},data:function(){return{showTag:!this.disableAdd&&!this.lazyTag,imgList:this.value,uploadedStatus:this.uploaded}},computed:{},watch:{value:function(){this.imgList=this.value,!this.disableAdd&&this.imgList.length<this.max?this.showTag=!0:this.showTag=!1},lazyTag:function(t){this.disableAdd||t||(this.showTag=!0)},imgList:function(t){this.$emit("input",t)},uploadedStatus:function(t){this.$emit("handle-uploaded-status",t)}},methods:{uploadImage:function(){var t=this;if(this.imgList.length>=this.max)this.$toast("您最多只能选择"+this.max+"张");else{l.a.log("v-upload-images.uploadImage: ");var e={type:1,ratio:.6,functionType:2,maxCount:this.max-this.imgList.length};Object(a.uploadImages)(e,function(e){l.a.log("v-upload-images.uploadImage. -> back",e);var i,s=void 0;if("cancel"!==e)for(t.uploadedStatus=!1,s=0,i=e.length;s<i;s++)e[s].url="",t.imgList.length<t.max&&t.imgList.push(e[s]);else t.checkStatus()},function(e){l.a.log("v-upload-images.uploadImage.qiqiu -> back",e);var i,s=void 0;for(s=0,i=t.imgList.length;s<i;s++)if(e.id===t.imgList[s].id){t.imgList[s].url=e.url;break}t.checkStatus()},function(e){t.checkStatus(),l.a.error("v-upload-images.uploadImage.error: ",e);var i=void 0,s=void 0,o=void 0,a=void 0,r=void 0;if(e)if("object"===(void 0===e?"undefined":n()(e)))for(i=0,s=t.imgList.length;i<s;i++)for(o=0,a=e.length;o<a;o++)t.imgList[i].id===e[o].id&&(t.imgList.splice(i,1),(r=document.getElementById(e[o].id)).parentNode.removeChild(r));else if("number"==typeof e)for(i=0,s=t.imgList.length;i<s;i++)t.imgList[i].id===e&&(t.imgList.splice(i,1),(r=document.getElementById(e)).parentNode.removeChild(r))})}},checkStatus:function(){for(var t=!0,e=0,i=this.imgList.length;e<i;e++)this.imgList[e].url||(t=!1);this.$logger.log("handle-uploaded-status: ",this.imgList.length,t),this.uploadedStatus=!!t},delImage:function(t){l.a.log("v-upload-images.delImage: ",t),this.imgList.splice(t,1)},goViewer:function(t){var e=[];this.imgList.length>0&&this.imgList.forEach(function(t){var i={url:t.url,width:t.width,height:t.height};e.push(i)}),this.$root.swipes={list:e,idx:t},this.$root.img=e,this.$router.push({name:"viewer",query:{idx:t}})}}},c=(i("xgrJ"),i("KHd+")),u=Object(c.a)(r,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"v-upload-images"},[i("transition-group",{staticClass:"v-upload-images__con",attrs:{name:"fade",tag:"div"}},[t._l(t.imgList,function(e,s){return"object"==typeof t.imgList?i("div",{directives:[{name:"show",rawName:"v-show",value:e.src,expression:"img.src"}],key:e.id,staticClass:"v-upload-images__frm",on:{click:function(e){e.stopPropagation(),t.goViewer(s)}}},[i("div",{staticClass:"v-upload-images__img",style:{backgroundImage:"url("+e.src+")",backgroundSize:"cover"}}),t._v(" "),e.url?t._e():i("div",{staticClass:"v-upload-images__loading"},[i("v-spinner",{attrs:{color:"#FFF",type:"fading-circle"}})],1),t._v(" "),t.disableDel?t._e():i("div",{staticClass:"v-upload-images__del",on:{click:function(e){e.stopPropagation(),t.delImage(s)}}},[i("i",{staticClass:"icon icon-error"})])]):t._e()}),t._v(" "),t.showTag?i("div",{key:"addBtn",staticClass:"v-upload-images__frm v-upload-images__btn",on:{click:t.uploadImage}},[i("div",{staticClass:"v-upload-images__img icon icon-add"})]):t._e()],2),t._v(" "),t.desc?i("div",{staticClass:"v-upload-images__tit",domProps:{textContent:t._s(t.desc)}}):t._e()],1)},[],!1,null,null,null);e.a=u.exports},x0j7:function(t,e,i){},xUbe:function(t,e,i){},xgrJ:function(t,e,i){"use strict";var s=i("fjkF");i.n(s).a}}]);
//# sourceMappingURL=5.21123968fb643c0c3fba.js.map