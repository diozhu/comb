webpackJsonp([16],{199:function(e,t,i){i(775);var a=i(43)(i(511),i(937),null,null);e.exports=a.exports},203:function(e,t,i){i(789);var a=i(43)(i(515),i(950),null,null);e.exports=a.exports},254:function(e,t,i){i(277);var a=i(43)(i(273),i(279),null,null);e.exports=a.exports},273:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"v-button",props:{nativeType:String,type:{type:String,default:"default",validator:function(e){return["default","danger","primary","info"].indexOf(e)>-1}},styles:{type:String,default:"radius",validator:function(e){return["radius","rectangle","circle"].indexOf(e)>-1}},cusClass:String,cusStyle:String,disableClass:String,disabled:Boolean,size:{type:String,default:"normal",validator:function(e){return["normal","small","full"].indexOf(e)>-1}}},data:function(){return{}},methods:{handleClick:function(e){this.$emit("click",e)}}}},275:function(e,t,i){t=e.exports=i(160)(),t.push([e.i,".v-btn{width:100%;display:block;background:#3395ff;color:#fff}.v-btn .v-btn__text{font-size:.42667rem;line-height:2}.v-btn.default{border:.02667rem solid #3395ff;background:#3395ff;color:#fff}.v-btn.danger{border:.02667rem solid #fa5a5a;background:#fa5a5a;color:#fff}.v-btn.primary{border:.02667rem solid #f7b64b;background:#f7b64b;color:#fff}.v-btn.info{border:.02667rem solid #3395ff;background:transparent;color:#3395ff}.v-btn.small{width:auto;height:auto;padding:0 .4rem;display:inline-block}.v-btn.small .v-btn__text{font-size:.32rem}.v-btn.full{border-radius:0}.v-btn.radius{border-radius:.10667rem}.v-btn.rectangle{border-radius:0}.v-btn.circle{border-radius:2.66667rem}.v-btn:active{opacity:.6}.v-btn.is-disabled{border:1px solid #85bffe;background:#85bffe}",""])},277:function(e,t,i){var a=i(275);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);i(161)("0fe4f863",a,!0)},279:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("button",{staticClass:"v-btn",class:[""+e.type,""+e.size,""+e.styles,{"is-disabled":e.disabled}],style:e.cusStyle,attrs:{type:e.nativeType,disabled:e.disabled},on:{click:e.handleClick}},[i("label",{staticClass:"v-btn__text"},[e._t("default")],2)])},staticRenderFns:[]}},281:function(e,t,i){i(291);var a=i(43)(i(289),i(292),null,null);e.exports=a.exports},288:function(e,t,i){"use strict";var a=i(0),o=i.n(a),n=i(27),r=i(28),s=i(77),l=i(16),d=i(80),c=i(81);if(void 0===u)var u=c.a;var f={currentItem:null,setCurrentItem:function(e){e&&(this.currentItem=e)},getCurrentItem:function(){return this.currentItem},clearCurrentItem:function(){this.currentItem=null},retry_num:0,retry_max:3,getToken:function(){if(!s.d||"function"!=typeof s.d)return u.reject("无效token，请在api中实现vGetMicroBbsToken方法");var e=this;return this.retry_num<this.retry_max?(this.retry_num+=1,s.d().then(function(t){return e.retry_num=0,u.resolve(t)})):u.reject("token尝试超过限制，请刷新页面重试")},getForumList:function(){r.a.log("[BBS].getForumList：");var e=this,t=n.a.BBS_URL+"/forum/list",i={appId:n.a.BBS_APPID};return n.a.BBS_TOKEN?(i.appId=n.a.BBS_APPID,i.token=n.a.BBS_TOKEN,i.toonType=n.a.toonType||100,o.a.http.post(t,i).then(function(t){var i=t.data;return r.a.log("[BBS].getForumList.SUCCESS: ",i),i.meta&&1001===i.meta.code?e.getToken().then(function(t){return n.a.BBS_TOKEN=t,e.getForumList()}):i.meta&&0!==i.meta.code?u.reject(i):u.resolve(i.data.dataList)})):this.getToken().then(function(t){return n.a.BBS_TOKEN=t,e.getForumList()})},getTopicList:function(e){var t=e.forumId,i=void 0===t?0:t,a=e.page,s=void 0===a?1:a,d=e.pageNum,c=void 0===d?n.a.BBS_LIMIT:d;r.a.log("[BBS].getTopicList：");var f=this,h=n.a.BBS_URL+"/topic/list",p={appId:n.a.BBS_APPID,token:n.a.BBS_TOKEN,toonType:n.a.toonType||100,loginUserId:l.a.getters.userInfo.id};return n.a.BBS_TOKEN?(p.forumIds=i,p.page=s,p.pageLimit=c,o.a.http.post(h,p).then(function(e){var t=e.data;return r.a.log("[BBS].getTopicList.SUCCESS: ",t),t.meta&&1001===t.meta.code?f.getToken().then(function(e){return n.a.BBS_TOKEN=e,f.getTopicList({forumId:i,page:s,pageNum:c})}):t.meta&&0!==t.meta.code?u.reject(t):u.resolve(t.data.dataList)})):this.getToken().then(function(e){return n.a.BBS_TOKEN=e,f.getTopicList({forumId:i,page:s,pageNum:c})})},getTopicSearch:function(e){var t=e.forumId,i=void 0===t?0:t,a=e.keyword,s=void 0===a?"":a,d=e.page,c=void 0===d?1:d,f=e.pageNum,h=void 0===f?n.a.BBS_LIMIT:f;r.a.log("[BBS].getTopicSearch：");var p=this,v=n.a.BBS_URL+"/topic/search",m={appId:n.a.BBS_APPID,token:n.a.BBS_TOKEN,toonType:n.a.toonType||100,loginUserId:l.a.getters.userInfo.id};return n.a.BBS_TOKEN?(m.forumIds=i,m.keyword=s,m.page=c,m.pageLimit=h,o.a.http.post(v,m).then(function(e){var t=e.data;return r.a.log("[BBS].getTopicSearch.SUCCESS: ",t),t.meta&&1001===t.meta.code?p.getToken().then(function(e){return n.a.BBS_TOKEN=e,p.getTopicSearch({forumId:i,keyword:s,page:c,pageNum:h})}):t.meta&&0!==t.meta.code?u.reject(t):u.resolve(t.data.dataList)})):this.getToken().then(function(e){return n.a.BBS_TOKEN=e,p.getTopicSearch({forumId:i,keyword:s,page:c,pageNum:h})})},getTopicDetail:function(e){var t=e.forumId,i=void 0===t?0:t,a=e.topicId,s=void 0===a?0:a;r.a.log("[BBS].getTopicDetail：");var d=this,c=n.a.BBS_URL+"/topic/detail",f={appId:n.a.BBS_APPID,token:n.a.BBS_TOKEN,toonType:n.a.toonType||100,loginUserId:l.a.getters.userInfo.id};return n.a.BBS_TOKEN?(f.forumIds=parseInt(i)||0,f.id=parseInt(s)||0,o.a.http.post(c,f).then(function(e){var t=e.data;return r.a.log("[BBS].getTopicDetail.SUCCESS: ",t),t.meta&&1001===t.meta.code?d.getToken().then(function(e){return n.a.BBS_TOKEN=e,d.getTopicDetail({forumId:i,topicId:s})}):t.meta&&0!==t.meta.code?u.reject(t):u.resolve(t.data)})):this.getToken().then(function(e){return n.a.BBS_TOKEN=e,d.getTopicDetail({forumId:i,topicId:s})})},addTopic:function(e){var t=e.forumId,i=void 0===t?0:t,a=e.title,s=void 0===a?"":a,d=e.content,c=void 0===d?"":d,f=e.pics,h=void 0===f?[]:f,p=e.poi,v=void 0===p?{longitude:116.123456,latitude:39.654321}:p;if(r.a.log("[BBS].addTopic："),r.a.log("[BBS].addTopic：",h),!i)return u.reject("请选择板块");if(!s)return u.reject("请输入标题");if(!c)return u.reject("请输内容");var m=this,g=n.a.BBS_URL+"/topic/add",b={appId:n.a.BBS_APPID,token:n.a.BBS_TOKEN,toonType:n.a.toonType||100};return n.a.BBS_TOKEN?(b.forumId=parseInt(i)||0,b.title=s,b.content=c,b.userInfo={userId:l.a.getters.userInfo.id,name:l.a.getters.userInfo.title,subtitle:l.a.getters.userInfo.subtitle,avatar:l.a.getters.userInfo.avatarId},b.poi=v,h&&h.length>0&&(b.pics=[],h.forEach(function(e){b.pics.push({imageType:e.imageType,size:e.size,url:e.url,width:e.width,height:e.height})})),o.a.http.post(g,b).then(function(e){var t=e.data;return r.a.log("[BBS].addTopic.SUCCESS: ",t),t.meta&&1001===t.meta.code?m.getToken().then(function(e){return n.a.BBS_TOKEN=e,m.addTopic({forumId:i,title:s,content:c,pics:h})}):t.meta&&0!==t.meta.code?u.reject(t.meta.message):(m.setCurrentItem({OPT:1,id:t.topicId||0,forumId:b.forumId,title:b.title,abstract:b.content,pics:b.pics,userInfo:b.userInfo,poi:b.poi,addtm:new Date}),u.resolve(t))})):this.getToken().then(function(e){return n.a.BBS_TOKEN=e,m.addTopic({forumId:i,title:s,content:c,pics:h})})},delTopic:function(e){var t=e.topicId,i=void 0===t?0:t;r.a.log("[BBS].delTopic：");var a=this,s=n.a.BBS_URL+"/topic/delete",d={appId:n.a.BBS_APPID,token:n.a.BBS_TOKEN,toonType:n.a.toonType||100};return n.a.BBS_TOKEN?(d.id=parseInt(i),d.userId=l.a.getters.userInfo.id,o.a.http.post(s,d).then(function(e){var t=e.data;return r.a.log("[BBS].delTopic.SUCCESS: ",t),t.meta&&1001===t.meta.code?a.getToken().then(function(e){return n.a.BBS_TOKEN=e,a.delTopic({topicId:i})}):t.meta&&0!==t.meta.code?u.reject(t.meta.message):(a.setCurrentItem({OPT:0,id:d.id}),u.resolve(t))})):this.getToken().then(function(e){return n.a.BBS_TOKEN=e,a.delTopic({topicId:i})})},getBannerList:function(e){var t=e.forumId,i=void 0===t?0:t;r.a.log("[BBS].getBannerList：");var a=this,s=n.a.BBS_URL+"/forum/banner",l={appId:n.a.BBS_APPID,token:n.a.BBS_TOKEN,toonType:n.a.toonType||100};return n.a.BBS_TOKEN?(l.id=i,o.a.http.post(s,l).then(function(e){var t=e.data;return r.a.log("[BBS].getBannerList.SUCCESS: ",t),t.meta&&1001===t.meta.code?a.getToken().then(function(e){return n.a.BBS_TOKEN=e,a.getBannerList({forumId:i})}):t.meta&&0!==t.meta.code?u.reject(t):u.resolve(t.data.dataList)})):this.getToken().then(function(e){return n.a.BBS_TOKEN=e,a.getBannerList({forumId:i})})},getComments:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.topicId,i=void 0===t?0:t,a=e.page,s=void 0===a?1:a,d=e.pageNum,c=void 0===d?n.a.BBS_LIMIT:d,f=this,h=n.a.BBS_URL+"/v1/comment/list",p={appId:n.a.BBS_APPID,token:n.a.BBS_TOKEN,toonType:n.a.toonType||100};return n.a.BBS_TOKEN?(p.topicId=parseInt(i),p.loginUserId=l.a.getters.userInfo.id,p.page=s,p.pageLimit=c,p.appId?o.a.http.post(h,p).then(function(e){var t=e.data;return r.a.log("[BBS].getComments.SUCCESS: ",t),t.meta&&1001===t.meta.code?this.getToken().then(function(e){return n.a.BBS_TOKEN=e,f.getComments({topicId:i,page:s,pageNum:c})}):t.meta&&0!==t.meta.code?u.reject(t):u.resolve(t.data.dataList)}):new u(function(e,t){t("微服务配置信息错误，请确认config.js的配置(BBS_APPID)")})):this.getToken().then(function(e){return n.a.BBS_TOKEN=e,f.getComments({topicId:i,page:s,pageNum:c})})},getPraise:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.topicId,i=void 0===t?0:t,a=e.commentId,s=void 0===a?0:a,l=e.page,d=void 0===l?1:l,c=e.pageNum,f=void 0===c?n.a.BBS_LIMIT:c,h=this,p=n.a.BBS_URL+"/v1/like/list",v={appId:n.a.BBS_APPID,token:n.a.BBS_TOKEN,toonType:n.a.toonType||100};return n.a.BBS_TOKEN?(v.topicId=parseInt(i),v.cId=parseInt(s),v.page=d,v.pageLimit=f,v.appId?o.a.http.post(p,v).then(function(e){var t=e.data;return r.a.log("[BBS].getPraise.SUCCESS: ",t),t.meta&&1001===t.meta.code?this.getToken().then(function(e){return n.a.BBS_TOKEN=e,h.getPraise({topicId:i,commentId:s,page:d,pageNum:f})}):t.meta&&0!==t.meta.code?u.reject(t):u.resolve(t.data.dataList)}):new u(function(e,t){t("微服务配置信息错误，请确认config.js的配置(BBS_APPID)")})):this.getToken().then(function(e){return n.a.BBS_TOKEN=e,h.getPraise({topicId:i,commentId:s,page:d,pageNum:f})})},addComment:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.topicId,i=void 0===t?0:t,a=e.content,s=void 0===a?"":a,d=e.toId,c=void 0===d?0:d,f=e.toUserId,h=void 0===f?0:f,p=this,v=n.a.BBS_URL+"/v1/comment/add",m={appId:n.a.BBS_APPID,token:n.a.BBS_TOKEN,toonType:n.a.toonType||100};return n.a.BBS_TOKEN?(m.topicId=parseInt(i),m.userInfo={userId:l.a.getters.userInfo.id,name:l.a.getters.userInfo.title,subtitle:l.a.getters.userInfo.subtitle,avatar:l.a.getters.userInfo.avatarId},m.content=s.replace(/(^\s*)|(\s*$)/g,""),m.toId=parseInt(c),m.toUserId=parseInt(h),m.appId?o.a.http.post(v,m).then(function(e){var t=e.data;return r.a.log("[BBS].addComment.SUCCESS: ",t),t.meta&&1001===t.meta.code?this.getToken().then(function(e){return n.a.BBS_TOKEN=e,p.addComment({topicId:i,content:s,toId:c,toUserId:h})}):t.meta&&0!==t.meta.code?u.reject(t):(p.setCurrentItem({OPT:1}),u.resolve(t))}):new u(function(e,t){t("微服务配置信息错误，请确认config.js的配置(BBS_APPID)")})):this.getToken().then(function(e){return n.a.BBS_TOKEN=e,p.addComment({topicId:i,content:s,toId:c,toUserId:h})})},delComment:function(e){var t=e.topicId,i=void 0===t?0:t,a=e.commentId,s=void 0===a?0:a;r.a.log("[BBS].delComment：");var d=this,c=n.a.BBS_URL+"/v1/comment/del",f={appId:n.a.BBS_APPID,token:n.a.BBS_TOKEN,toonType:n.a.toonType||100};return n.a.BBS_TOKEN?(f.topicId=parseInt(i),f.cId=parseInt(s),f.userId=l.a.getters.userInfo.id,o.a.http.post(c,f).then(function(e){var t=e.data;return r.a.log("[BBS].delComment.SUCCESS: ",t),t.meta&&1001===t.meta.code?d.getToken().then(function(e){return n.a.BBS_TOKEN=e,d.delComment({topicId:i,commentId:s})}):t.meta&&0!==t.meta.code?u.reject(t.meta.message):(d.setCurrentItem({OPT:0}),u.resolve(t))})):this.getToken().then(function(e){return n.a.BBS_TOKEN=e,d.delComment({topicId:i,commentId:s})})},addPraise:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.topicId,i=void 0===t?0:t,a=e.toId,r=void 0===a?0:a,s=this,d=n.a.BBS_URL+"/v1/like/add",c={appId:n.a.BBS_APPID,token:n.a.BBS_TOKEN,toonType:n.a.toonType||100};return n.a.BBS_TOKEN?(c.topicId=parseInt(i),c.userInfo={userId:l.a.getters.userInfo.id,name:l.a.getters.userInfo.title,subtitle:l.a.getters.userInfo.subtitle,avatar:l.a.getters.userInfo.avatarId},c.toId=parseInt(r),o.a.http.post(d,c).then(function(e){var t=e.data;return t.meta&&1001===t.meta.code?s.getToken().then(function(e){return n.a.BBS_TOKEN=e,s.addPraise({topicId:i,toId:r})}):t.meta&&0!==t.meta.code?u.reject(t):u.resolve(t.Res)})):this.getToken().then(function(e){return n.a.BBS_TOKEN=e,s.addPraise({topicId:i,toId:r})})},delPraise:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.topicId,i=void 0===t?0:t,a=e.commentId,r=void 0===a?0:a,s=this,d=n.a.BBS_URL+"/v1/like/del",c={appId:n.a.BBS_APPID,token:n.a.BBS_TOKEN,toonType:n.a.toonType||100};return n.a.BBS_TOKEN?(c.topicId=parseInt(i),c.userId=l.a.getters.userInfo.id,c.cId=parseInt(r),o.a.http.post(d,c).then(function(e){var t=e.data;return t.meta&&1001===t.meta.code?s.getToken().then(function(e){return n.a.BBS_TOKEN=e,s.delPraise({topicId:i,commentId:r})}):t.meta&&0!==t.meta.code?u.reject(t):u.resolve(t.Res)})):this.getToken().then(function(e){return n.a.BBS_TOKEN=e,s.delPraise({topicId:i,commentId:r})})},checkFeed:function(){var e=this;if(l.a.getters.userInfo.feedId)return u.resolve();i.i(d.a)({functionType:"1"},"card/chooseCard",function(t){e.$logger.log("获取名片信息：：：：",t),e.feedId=t.feedId,t&&t.feedId&&o.a.http.get("/user/feed?feedId="+encodeURIComponent(t.feedId),function(e){return 0===e.code?u.resolve():u.reject("error")})},function(){return u.reject("未返回信息")})}};t.a=f},289:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"v-cell",props:{to:[String,Object],icon:String,reverse:Boolean,title:String,label:String,isLink:Boolean,value:{},desc:String},computed:{href:function(){var e=this;if(this.to&&!this.added&&this.$router){var t=this.$router.match(this.to);return this.$logger.log("v-cell.computed.href: ",t),t.matched.length?(this.$nextTick(function(){e.added=!0,e.$el.addEventListener("click",e.handleClick)}),t.path):this.to}return this.to}},created:function(){this.$logger.log("v-cell.created: ")},methods:{handleClick:function(e){this.$logger.log("v-cell.handleClick: "),e.preventDefault(),this.$router.push(this.to)}}}},290:function(e,t,i){t=e.exports=i(160)(),t.push([e.i,'.v-cell{box-sizing:border-box;color:inherit;min-height:1.17333rem;display:block;overflow:hidden;position:relative;text-decoration:none}.v-cell>div{border-bottom:1px solid #dddee3}.v-cell:last-child{border-bottom:0}.v-cell img{vertical-align:middle}.v-cell:first-child .v-cell__wrapper{background-origin:border-box}.v-cell__wrapper{box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:stretch;-webkit-align-items:stretch;align-items:stretch;-webkit-box-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;font-size:.4rem;line-height:1;min-height:inherit;overflow:hidden;padding:0 .4rem 0 0;margin:0 0 0 .4rem}.v-cell__mask:after{background-color:#000;content:" ";opacity:0;top:0;right:0;bottom:0;left:0;position:absolute}.v-cell__mask:active:after{opacity:.1}.v-cell__text{vertical-align:middle;font-size:.4rem}.v-cell__label{color:#888;display:block;font-size:.32rem;margin-top:.16rem}.v-cell__title{text-align:left;min-width:1.6rem;-webkit-flex-shrink:0;flex-shrink:0;-webkit-box-flex:0;-webkit-flex-grow:0;flex-grow:0;-webkit-flex-basis:auto;flex-basis:auto;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.v-cell__title .icon{margin-right:.21333rem;font-size:.4rem}.v-cell__title .icon.disk{width:.8rem;height:.8rem;background:#007aff;color:#fff;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;border-radius:.08rem}.v-cell__title.reverse{-webkit-box-orient:horizontal;-webkit-box-direction:reverse;-webkit-flex-direction:row-reverse;flex-direction:row-reverse}.v-cell__title.reverse,.v-cell__title.reverse .v-cell__text,.v-cell__title.reverse>div{-webkit-box-flex:1;-webkit-flex-grow:1;flex-grow:1}.v-cell__title.reverse .icon{margin:0}.v-cell__value{position:relative;color:#888;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;margin-left:.26667rem;-webkit-flex-shrink:1;flex-shrink:1;-webkit-box-flex:1;-webkit-flex-grow:1;flex-grow:1;-webkit-flex-basis:auto;flex-basis:auto}.v-cell__value span{font-size:.4rem}.v-cell__value>div{-webkit-box-flex:1;-webkit-flex:1 1 auto;flex:1 1 auto}.v-cell__value input{width:100%;min-height:.8rem;padding-left:.26667rem;font-size:.4rem;line-height:1;overflow:hidden}.v-cell__value.is-link{margin-right:.4rem}.v-cell__left{left:0;-webkit-transform:translate3d(-100%,0,0);transform:translate3d(-100%,0,0)}.v-cell__left,.v-cell__right{position:absolute;height:100%}.v-cell__right{right:0;top:0;-webkit-transform:translate3d(100%,0,0);transform:translate3d(100%,0,0)}.v-cell__allow-right:after{border:2px solid #3e3a39;border-bottom-width:0;border-left-width:0;content:" ";top:50%;right:.4rem;position:absolute;width:.18667rem;height:.18667rem;-webkit-transform:translateY(-50%) rotate(45deg);transform:translateY(-50%) rotate(45deg)}',""])},291:function(e,t,i){var a=i(290);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);i(161)("06a21fbe",a,!0)},292:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("a",{staticClass:"v-cell",attrs:{href:e.href}},[i("div",{staticClass:"v-cell__wrapper"},[e.title||e.$slots.title?i("div",{staticClass:"v-cell__title",class:[{reverse:e.reverse}]},[e._t("icon",[e.icon?i("i",{staticClass:"app icon",class:"icon-"+e.icon}):e._e()]),e._v(" "),e._t("title",[i("span",{staticClass:"v-cell__text"},[e._v("\n                    "+e._s(e.title)+"\n                    "),e.label?i("span",{staticClass:"v-cell__label",domProps:{textContent:e._s(e.label)}}):e._e()])])],2):e._e(),e._v(" "),e.value||e.desc||e.$slots.default?i("div",{staticClass:"v-cell__value",class:{"is-link":e.isLink}},[e._t("default",[i("span",{domProps:{textContent:e._s(e.value)}}),e._v(" "),i("span",{domProps:{textContent:e._s(e.desc)}})])],2):e._e()]),e._v(" "),e.$slots.right?i("div",{staticClass:"v-cell__right"},[e._t("right")],2):e._e(),e._v(" "),e.isLink?i("i",{staticClass:"v-cell__allow-right"}):e._e()])},staticRenderFns:[]}},293:function(e,t,i){"use strict";t.a={bind:function(e,t,i){var a=function(t){i.context&&!e.contains(t.target)&&i.context[e["@@clickoutsideContext"].methodName]()};e["@@clickoutsideContext"]={documentHandler:a,methodName:t.expression,arg:t.arg||"click"},document.addEventListener(e["@@clickoutsideContext"].arg,a)},update:function(e,t){e["@@clickoutsideContext"].methodName=t.expression},unbind:function(e){document.removeEventListener(e["@@clickoutsideContext"].arg,e["@@clickoutsideContext"].documentHandler)},install:function(e){e.directive("clickoutside",{bind:this.bind,unbind:this.unbind})}}},294:function(e,t,i){i(298);var a=i(43)(i(296),i(299),null,null);e.exports=a.exports},295:function(e,t,i){"use strict";var a=i(82),o=i.n(a),n=i(0),r=i.n(n),s=i(26),l="@@Validator",d=function(){this&&(this.field=this.vm.field||this.vm._uid,this.field&&(r.a.$validation[this.field]||(r.a.$validation[this.field]=r.a.prototype.$validation[this.field]={}),this.expression.required&&u.call(this),(this.expression.minLength||this.expression.maxLength)&&h.call(this),this.expression.mail&&v.call(this),this.expression.tel&&g.call(this),this.expression.mobile&&_.call(this),this.expression.card&&x.call(this),this.expression.numbers&&y.call(this),this.expression.text&&S.call(this),this.expression.bank&&w.call(this),this.expression.sorderIdenty&&C.call(this),this.expression.socialSecurityCard&&L.call(this),this.expression.hongKongMacauPasser&&P.call(this),this.expression.taiwanPasser&&K.call(this),this.expression.houseHoldRegister&&U.call(this),this.expression.interimId&&z.call(this),this.expression.passport&&A.call(this)))},c=function(e,t){return"string"==typeof this.expression[e]?this.expression[e]:this.expression[e].message&&"string"==typeof this.expression[e].message?this.expression[e].message:t},u=function(){f.call(this,this.vm.value),this.vm.$watch("value",f.bind(this))},f=function(e,t){if(e&&e.length&&!e.match(/^\s*$/g))delete r.a.$validation[this.field].required,delete r.a.prototype.$validation[this.field].required;else{var i=c.call(this,"required","您有未录入的数据哦~");r.a.$validation[this.field].required=r.a.prototype.$validation[this.field].required=i}},h=function(){p.call(this,this.vm.value),this.vm.$watch("value",p.bind(this))},p=function(e,t){if(e&&this.expression.minLength){var i="number"==typeof this.expression.minLength?this.expression.minLength:this.expression.minLength.rule;if(e.length&&e.length>=i)delete r.a.$validation[this.field].minLength,delete r.a.prototype.$validation[this.field].minLength;else{var a=c.call(this,"minLength","至少输入"+i+"字哦~");r.a.$validation[this.field].minLength=r.a.prototype.$validation[this.field].minLength=a}}if(e&&this.expression.maxLength){var o="number"==typeof this.expression.maxLength?this.expression.maxLength:this.expression.maxLength.rule;if(e.length&&e.length<o)delete r.a.$validation[this.field].maxLength,delete r.a.prototype.$validation[this.field].maxLength;else{var n=c.call(this,"maxLength","最多输入"+o+"字哦~");r.a.$validation[this.field].maxLength=r.a.prototype.$validation[this.field].maxLength=n}}},v=function(){m.call(this,this.vm.value),this.vm.$watch("value",m.bind(this))},m=function(e,t){if(e&&this.expression.mail)if(s.e(e))delete r.a.$validation[this.field].mail,delete r.a.prototype.$validation[this.field].mail;else{var i=c.call(this,"mail","邮箱格式不对哦~");r.a.$validation[this.field].mail=r.a.prototype.$validation[this.field].mail=i}},g=function(){b.call(this,this.vm.value),this.vm.$watch("value",b.bind(this))},b=function(e,t){if(e&&this.expression.tel)if(s.f(e))delete r.a.$validation[this.field].tel,delete r.a.prototype.$validation[this.field].tel;else{var i=c.call(this,"tel","电话格式不对哦~");r.a.$validation[this.field].tel=r.a.prototype.$validation[this.field].tel=i}},_=function(){B.call(this,this.vm.value),this.vm.$watch("value",B.bind(this))},B=function(e,t){if(e&&this.expression.mobile)if(s.g(e))delete r.a.$validation[this.field].mobile,delete r.a.prototype.$validation[this.field].mobile;else{var i=c.call(this,"mobile","手机格式不对哦~");r.a.$validation[this.field].mobile=r.a.prototype.$validation[this.field].mobile=i}},x=function(){I.call(this,this.vm.value),this.vm.$watch("value",I.bind(this))},I=function(e,t){if(e&&this.expression.card)if(s.h(e))delete r.a.$validation[this.field].card,delete r.a.prototype.$validation[this.field].card;else{var i=c.call(this,"card","身份证号格式不对哦~");r.a.$validation[this.field].card=r.a.prototype.$validation[this.field].card=i}},y=function(){k.call(this,this.vm.value),this.vm.$watch("value",k.bind(this))},k=function(e,t){if(e&&this.expression.numbers)if(s.i(e))delete r.a.$validation[this.field].numbers,delete r.a.prototype.$validation[this.field].numbers;else{var i=c.call(this,"numbers","只能输入数字哦~");r.a.$validation[this.field].numbers=r.a.prototype.$validation[this.field].numbers=i}},S=function(){T.call(this,this.vm.value),this.vm.$watch("value",T.bind(this))},T=function(e,t){if(e&&this.expression.text)if(s.j(e))delete r.a.$validation[this.field].text,delete r.a.prototype.$validation[this.field].text;else{var i=c.call(this,"text","不能包含特殊字符哦~");r.a.$validation[this.field].text=r.a.prototype.$validation[this.field].text=i}},w=function(){$.call(this,this.vm.value),this.vm.$watch("value",$.bind(this))},$=function(e,t){if(e&&this.expression.bank)if(s.k(e))delete r.a.$validation[this.field].bank,delete r.a.prototype.$validation[this.field].bank;else{var i=c.call(this,"bank","银行卡格式不对哦~");r.a.$validation[this.field].bank=r.a.prototype.$validation[this.field].bank=i}},C=function(){E.call(this,this.vm.value),this.vm.$watch("value",E.bind(this))},E=function(e,t){if(e&&this.expression.sorderIdenty)if(s.l(e))delete r.a.$validation[this.field].sorderIdenty,delete r.a.prototype.$validation[this.field].sorderIdenty;else{var i=c.call(this,"sorderIdenty","军人身份证格式不对哦~");r.a.$validation[this.field].sorderIdenty=r.a.prototype.$validation[this.field].sorderIdenty=i}},L=function(){N.call(this,this.vm.value),this.vm.$watch("value",N.bind(this))},N=function(e,t){if(e&&this.expression.socialSecurityCard)if(s.m(e))delete r.a.$validation[this.field].socialSecurityCard,delete r.a.prototype.$validation[this.field].socialSecurityCard;else{var i=c.call(this,"socialSecurityCard","社会保障卡格式不对哦~");r.a.$validation[this.field].socialSecurityCard=r.a.prototype.$validation[this.field].socialSecurityCard=i}},P=function(){O.call(this,this.vm.value),this.vm.$watch("value",O.bind(this))},O=function(e,t){if(e&&this.expression.hongKongMacauPasser)if(s.n(e))delete r.a.$validation[this.field].hongKongMacauPasser,delete r.a.prototype.$validation[this.field].hongKongMacauPasser;else{var i=c.call(this,"hongKongMacauPasser","港澳通行证格式不对哦~");r.a.$validation[this.field].hongKongMacauPasser=r.a.prototype.$validation[this.field].hongKongMacauPasser=i}},K=function(){j.call(this,this.vm.value),this.vm.$watch("value",j.bind(this))},j=function(e,t){if(e&&this.expression.taiwanPasser)if(s.o(e))delete r.a.$validation[this.field].taiwanPasser,delete r.a.prototype.$validation[this.field].taiwanPasser;else{var i=c.call(this,"taiwanPasser","台湾居民来往大陆通行证格式不对哦~");r.a.$validation[this.field].taiwanPasser=r.a.prototype.$validation[this.field].taiwanPasser=i}},U=function(){R.call(this,this.vm.value),this.vm.$watch("value",R.bind(this))},R=function(e,t){if(e&&this.expression.houseHoldRegister)if(s.p(e))delete r.a.$validation[this.field].houseHoldRegister,delete r.a.prototype.$validation[this.field].houseHoldRegister;else{var i=c.call(this,"houseHoldRegister","户口薄格式不对哦~");r.a.$validation[this.field].houseHoldRegister=r.a.prototype.$validation[this.field].houseHoldRegister=i}},z=function(){D.call(this,this.vm.value),this.vm.$watch("value",D.bind(this))},D=function(e,t){if(e&&this.expression.interimId)if(s.q(e))delete r.a.$validation[this.field].interimId,delete r.a.prototype.$validation[this.field].interimId;else{var i=c.call(this,"interimId","临时居民身份证格式不对哦~");r.a.$validation[this.field].interimId=r.a.prototype.$validation[this.field].interimId=i}},A=function(){V.call(this,this.vm.value),this.vm.$watch("value",V.bind(this))},V=function(e,t){if(e&&this.expression.passport)if(s.r(e))delete r.a.$validation[this.field].passport,delete r.a.prototype.$validation[this.field].passport;else{var i=c.call(this,"passport","护照格式不对哦~");r.a.$validation[this.field].passport=r.a.prototype.$validation[this.field].passport=i}},M={bind:function(e,t,i){if(void 0!==t.value){e[l]={el:e,vm:i.context,expression:t.value};var a=arguments;e[l].vm.$nextTick(function(){setTimeout(function(){d.call(e[l],a)},0)})}},componentUpdated:function(e,t,i){if(console.log("fdfdfdfdfdf....."),void 0!==t.value){e[l]={el:e,vm:i.context,expression:t.value};var a=arguments;e[l].vm.$nextTick(function(){var t=r.a.$validation;r.a.$validation=r.a.prototype.$validation={},d.call(e[l],a),o()(t,r.a.$validation),r.a.$validation=r.a.prototype.$validation=t})}}},F={},q=function(e){e.directive("validator",M),e.$validation=e.prototype.$validation=F};!r.a.prototype.$isServer&&window.Vue&&(window.Validator=M,r.a.use(q)),M.install=q,t.a=M},296:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i(45),o=i.n(a),n=i(281),r=i.n(n),s=i(293),l=i(26),d=i(0),c=i.n(d),u=i(295);String.prototype.subBtyesString=function(e){for(var t,i="",a=0,o=0,n=0;n<this.length;n++)t=this.charCodeAt(n),t<127?o++:o+=2,o<=e&&(a=n+1);return a<this.length?(i=this.substr(0,a),i+=""):i=this.substr(0,this.length),i},c.a.use(u.a),t.default={name:"v-field",components:{vCell:r.a},directives:{clickoutside:s.a},props:{value:String,type:{type:String,default:"text"},title:String,clearEnable:{type:Boolean,default:!0},validateable:{type:Boolean,default:!0},rows:String,placeholder:String,readonly:Boolean,disabled:Boolean,attr:Object,limit:Number,isLink:Boolean,field:String,validator:Object},data:function(){return{imeFlag:!1,state:"",active:!1,currentValue:this.value,len:0,old:""}},watch:{value:function(e){this.currentValue=e},currentValue:function(e){if(this.len=e?e.length:0,this.limit&&this.len>this.limit)return void(this.currentValue=this.old);this.old=this.currentValue,this.$emit("input",e)},attr:{immediate:!0,handler:function(e){var t=this;this.$nextTick(function(){[t.$refs.input,t.$refs.textarea].forEach(function(t){t&&e&&o()(e).map(function(i){return t.setAttribute(i,e[i])})})})}}},methods:{doCloseActive:function(){this.active=!1},handleClear:function(){this.disabled||this.readonly||(this.currentValue="",this.$refs.input.focus())},handleInput:function(e){this.currentValue=e.target.value,this.validateable&&"email"===this.type?this.state=l.e(this.currentValue)?"success":"error":this.validateable&&"tel"===this.type?this.state=l.f(this.currentValue)||l.g(this.currentValue)?"success":"error":this.validateable&&"mobile"===this.type&&(this.state=l.g(this.currentValue)?"success":"error")}}}},297:function(e,t,i){t=e.exports=i(160)(),t.push([e.i,".v-field{display:block}.v-field input{opacity:1}.v-field input::-webkit-input-placeholder,.v-field textarea::-webkit-input-placeholder{color:#bebebe;font-size:.37333rem}.v-field .icon.icon-error{background:#b2b2b2;color:#fff;border-radius:50%;padding:.05333rem;font-size:.37333rem;opacity:.7}.v-field__tit{width:100%;height:1.17333rem;font-size:.4rem;line-height:1.17333rem;margin-left:.4rem;border-bottom:.02667rem solid #dddee3}.v-field__core.textarea{width:100%;min-height:2.66667rem;-webkit-appearance:none;appearance:none;overflow:auto;resize:none;vertical-align:top;display:block;background:#fff;padding:.4rem 0;font-size:.4rem;line-height:.58667rem}.v-field__core.input{width:100%;height:100%;font-size:.4rem;padding-right:.4rem}.has-limit .v-cell__value{padding-bottom:.88rem}.v-field__limit{position:absolute;bottom:0;right:0;font-size:.37333rem;color:#777e8c;text-align:right;padding:.26667rem .4rem}.limit-outer .v-field__limit{background:transparent;border-top:.02667rem solid #dddee3}.v-field.multi .v-cell__value{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-align:start;-webkit-align-items:flex-start;align-items:flex-start}.v-field.multi .v-cell__value>div{padding:.26667rem .26667rem 0;font-size:.37333rem;color:#000}",""])},298:function(e,t,i){var a=i(297);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);i(161)("980cb432",a,!0)},299:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-cell",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:e.doCloseActive,expression:"doCloseActive"}],staticClass:"v-field",class:[{"has-limit":"textarea"===e.type&&e.limit}],attrs:{title:e.title,isLink:e.isLink}},["textarea"===e.type?i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.currentValue,expression:"currentValue"},{name:"validator",rawName:"v-validator",value:e.validator,expression:"validator"}],ref:"textarea",staticClass:"v-field__core textarea",attrs:{placeholder:e.placeholder,rows:e.rows,disabled:e.disabled,readonly:e.readonly,field:e.field},domProps:{value:e.currentValue},on:{change:function(t){e.$emit("change",e.currentValue)},input:function(t){t.target.composing||(e.currentValue=t.target.value)}}}):e._e(),e._v(" "),e._t("after"),e._v(" "),"textarea"===e.type&&e.limit?i("div",{staticClass:"v-field__limit"},[e._v(e._s(e.currentValue.length||0)+"/"+e._s(e.limit))]):e._e(),e._v(" "),"textarea"!==e.type?i("input",{directives:[{name:"validator",rawName:"v-validator",value:e.validator,expression:"validator"}],ref:"input",staticClass:"v-field__core input",class:[e.state],attrs:{type:"mobile"===e.type?"tel":e.type,number:"number"===e.type,placeholder:e.placeholder,disabled:e.disabled,readonly:e.readonly,field:e.field},domProps:{value:e.currentValue},on:{input:e.handleInput,focus:function(t){e.active=!0,e.state=""},change:function(t){e.$emit("change",e.currentValue)}}}):e._e(),e._v(" "),e.clearEnable?i("i",{directives:[{name:"show",rawName:"v-show",value:"textarea"!==e.type&&e.active,expression:"type !== 'textarea' && active"}],staticClass:"icon icon-error",on:{click:e.handleClear}}):e._e(),e._v(" "),e._t("right")],2)},staticRenderFns:[]}},511:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i(28),o=i(294),n=i.n(o),r=i(254),s=i.n(r),l=i(288);t.default={components:{"v-field":n.a,"v-button":s.a},data:function(){var e=this;return{toId:e.$route.query.toid/1||0,toUserId:e.$route.query.touid/1||0,value:""}},mounted:function(){a.a.log("forum-reply.mounted... ",this.$route.params.id)},methods:{submit:function(){var e=this;return a.a.log("forum-reply.submit: ",this.value),l.a.addComment({topicId:this.$route.params.topicId||0,content:this.value,toId:this.$route.query.toid||0,toUserId:this.$route.query.touid||0}).then(function(t){a.a.log("[BBS].submit.SUCSESS: ",t),e.$router.go(-1)}).catch(function(e){a.a.error("[BBS].submit.ERROR: ",e)})}}}},515:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i(288);t.default={data:function(){return{forumList:[]}},created:function(){this.$logger.log("forum.mounted... "),this.init()},methods:{init:function(){var e=this;this.$logger.log("forum.init... "),a.a.getForumList().then(function(t){e.$logger.log("forum.init.getForumList: ",t),e.forumList=t})},goForum:function(e,t){this.$router.push({name:"forum-topics",params:{forumId:e},query:{forumName:t}})}}}},656:function(e,t,i){t=e.exports=i(160)(),t.push([e.i,".v-comments__btn__frm{width:100%;height:1.70667rem;padding:.26667rem .29333rem;display:block;position:fixed;z-index:9;left:0;bottom:0;font-size:.45333rem;line-height:1;background:#fff;border-top:1px solid #ccc}",""])},670:function(e,t,i){t=e.exports=i(160)(),t.push([e.i,".page-forum ul li:first-child{border-top:1px solid #dddee3}.page-forum .page-forum__forum{width:100%;height:1.33333rem;padding:0 .4rem;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;align-items:center;border-bottom:1px solid #dddee3}.page-forum .page-forum__forum img{width:.8rem;height:.8rem;-webkit-box-flex:0;-webkit-flex:0 0 auto;flex:0 0 auto}.page-forum .page-forum__forum p{width:auto;font-size:.48rem;padding-left:.21333rem;-webkit-box-flex:1;-webkit-flex:1 1 auto;flex:1 1 auto}",""])},775:function(e,t,i){var a=i(656);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);i(161)("b764b8f4",a,!0)},789:function(e,t,i){var a=i(670);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);i(161)("6b40f0b8",a,!0)},937:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"page page-forum-reply"},[i("v-field",{staticClass:"limit-outer",attrs:{placeholder:"提示文字...",type:"textarea",rows:"8",limit:"20"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}}),e._v(" "),i("div",{staticClass:"v-comments__btn__frm"},[i("v-button",{staticClass:"v-comments__submit",on:{click:e.submit}},[e._v("发布评论")])],1)],1)},staticRenderFns:[]}},950:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"page page-forum"},[i("h2",[e._v("微服务-论坛 示例")]),e._v(" "),i("ul",e._l(e.forumList,function(t){return i("li",{on:{click:function(i){e.goForum(t.id,t.name)}}},[i("div",{staticClass:"page-forum__forum"},[i("img",{attrs:{src:t.params.icon}}),e._v(" "),i("p",[e._v(e._s(t.name))]),e._v(" "),i("i",{staticClass:"icon icon-arrow-r v-label__arrow"})])])}))])},staticRenderFns:[]}}});