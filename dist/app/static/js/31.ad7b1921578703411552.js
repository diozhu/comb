webpackJsonp([31],{171:function(e,t,i){i(705);var r=i(41)(i(472),i(853),null,null);e.exports=r.exports},232:function(e,t,i){i(237);var r=i(41)(i(235),i(238),null,null);e.exports=r.exports},233:function(e,t,i){"use strict";var r=i(0),n=i.n(r),o=new n.a;t.a=o},235:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(27);t.default={name:"v-feed",props:{id:String,feedId:String,imgUrl:String,msgNum:String,title:String,subtitle:String,sex:String,age:String,desc:String,classes:String,iconFunc:Function},data:function(){return{}},computed:{feedImg:function(){return r.d(this.imgUrl)},feedClass:function(){return/^o_/.test(this.feedId)||/^s_/.test(this.feedId)?"square":/^g_/.test(this.feedId)?"hexagon":"circle"}},created:function(){},methods:{handleClick:function(e){this.iconFunc&&"function"==typeof this.iconFunc&&(e.stopPropagation(),e.preventDefault(),this.iconFunc(),this.$toast({message:"您是不是想去个人中心？",duration:1e3,position:"bottom"}))}}}},236:function(e,t,i){t=e.exports=i(150)(),t.push([e.i,'.v-feed{height:1.81333rem;background:#fff;border-bottom:1px solid #dddee3;position:relative;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.v-feed>div{position:relative;-webkit-box-flex:0;-webkit-flex:0 0 auto;flex:0 0 auto}.v-feed>div:last-child{-webkit-box-flex:1;-webkit-flex:1 1 auto;flex:1 1 auto}.v-feed__img{width:1.44rem;height:1.44rem;margin-left:.26667rem;margin-right:.26667rem;position:relative;border:0}.v-feed__img img{width:100%}.v-feed__img.circle{border-radius:50%;overflow:hidden}.v-feed__img.hexagon{height:1.22667rem;overflow:hidden}.v-feed__img.hexagon:before{left:0;border-right:.32rem solid transparent}.v-feed__img.hexagon:after,.v-feed__img.hexagon:before{content:"";width:0;height:0;position:absolute;top:0;border-top:.61333rem solid #fff;border-bottom:.61333rem solid #fff}.v-feed__img.hexagon:after{right:0;border-left:.32rem solid transparent}.small{height:1.38667rem}.small .v-feed__img{width:.85333rem;height:.85333rem;margin-left:.4rem}.small .v-feed__tit{font-size:.37333rem}.small .v-feed__sub,.v-feed__num{font-size:.32rem}.v-feed__num{width:.48rem;height:.48rem;border-radius:50%;background:#ff3b2f;position:absolute;right:.16rem;top:-.10667rem;color:#fff;line-height:.48rem;text-align:center}.v-feed__num.mix{width:.26667rem;height:.26667rem;color:transparent;right:.21333rem;top:-.05333rem}.v-feed__con{margin-right:.26667rem;-webkit-box-orient:vertical;-webkit-flex-direction:column;flex-direction:column}.v-feed__con,.v-feed__con-info{display:-webkit-box;display:flex;display:-webkit-flex;-webkit-box-direction:normal}.v-feed__con-info{-webkit-box-orient:horizontal;-moz-flex-direction:row;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:space-between;-moz-justify-content:space-between;-webkit-justify-content:space-between;justify-content:space-between}.v-feed__con-info>div:last-child{-moz-flex-grow:1;-webkit-flex-grow:1;flex-grow:1;-webkit-box-flex:1;-webkit-flex-shrink:1;flex-shrink:1;-webkit-flex-basis:auto;flex-basis:auto}.v-feed__tit{font-size:.45333rem;line-height:1}.v-feed__sex{width:.32rem;height:.32rem;margin:.02667rem .13333rem;text-align:center;font-size:.32rem;line-height:.32rem;color:#ff88b2;border-radius:.05333rem}.v-feed__sex.icon-male{color:#4392ec}.v-feed__age{font-size:.26667rem;line-height:.45333rem;color:#777e8c}.v-feed__desc{text-align:right;font-size:.32rem;line-height:1;color:#8e8e93}.v-feed__sub{margin-top:.18667rem;font-size:.37333rem;line-height:1;color:#777e8c}',""])},237:function(e,t,i){var r=i(236);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);i(151)("b5c91ab4",r,!0)},238:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"v-feed",class:[e.classes]},[i("div",{on:{click:e.handleClick}},[i("div",{staticClass:"v-feed__img",class:[e.feedClass]},[i("img",{attrs:{src:e.feedImg}})]),e.msgNum>0?i("i",{staticClass:"v-feed__num",class:[{mix:e.msgNum>9}],domProps:{textContent:e._s(e.msgNum)}}):e._e()]),e._v(" "),i("div",{staticClass:"v-feed__con"},[i("div",{staticClass:"v-feed__con-info"},[i("div",{staticClass:"v-feed__tit",domProps:{textContent:e._s(e.title)}}),e._v(" "),e.sex?i("div",{staticClass:"v-feed__sex icon",class:[{"icon-male":"1"==e.sex},{"icon-female":"2"==e.sex}]}):e._e(),e._v(" "),e.age?i("div",{staticClass:"v-feed__age",domProps:{textContent:e._s(e.age)}}):e._e(),e._v(" "),e.desc?i("div",{staticClass:"v-feed__desc",domProps:{textContent:e._s(e.desc)}}):e._e()]),e._v(" "),i("div",{staticClass:"v-feed__sub",domProps:{textContent:e._s(e.subtitle)}})])])},staticRenderFns:[]}},240:function(e,t,i){"use strict";var r=i(254),n=i.n(r);i.d(t,"a",function(){return n.a})},241:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"fading-circle",props:{size:Number,color:String},computed:{spinnerColor:function(){return this.color||this.$parent.color||"#007AFF"}},created:function(){if(!this.$isServer){this.styleNode=document.createElement("style");var e=".circle-color-"+this._uid+" > div::before { background-color: "+this.spinnerColor+"; }";this.styleNode.type="text/css",this.styleNode.rel="stylesheet",this.styleNode.title="fading circle style",document.getElementsByTagName("head")[0].appendChild(this.styleNode),this.styleNode.appendChild(document.createTextNode(e))}},destroyed:function(){this.styleNode&&this.styleNode.parentNode.removeChild(this.styleNode)}}},242:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"snake",props:{size:Number,color:String},computed:{spinnerColor:function(){return this.color||this.$parent.color||"#007AFF"}}}},243:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"triple-bounce",props:{size:Number,color:String},computed:{bounceStyle:function(){return{backgroundColor:this.spinnerColor}}}}},244:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["snake","triple-bounce","fading-circle"],n=function(e){return"[object Number]"==={}.toString.call(e)?(r.length<=e&&(console.warn("'"+e+"' spinner not found, use the default spinner."),e=0),r[e]):(-1===r.indexOf(e)&&(console.warn("'"+e+"' spinner not found, use the default spinner."),e=r[0]),e)};t.default={name:"mt-spinner",computed:{spinner:function(){return"spinner-"+n(this.type)}},components:{SpinnerSnake:i(252),SpinnerTripleBounce:i(253),SpinnerFadingCircle:i(251)},props:{type:{default:0},size:{type:Number,default:28},color:{type:String,default:"#ccc"}}}},245:function(e,t,i){t=e.exports=i(150)(),t.push([e.i,".v-spinner__snake{width:.74667rem;height:.74667rem;-webkit-animation:v-spinner__snake--rotate .8s infinite linear;animation:v-spinner__snake--rotate .8s infinite linear;border-width:.05333rem;border-style:solid;border-radius:50%}@-webkit-keyframes v-spinner__snake--rotate{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes v-spinner__snake--rotate{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}",""])},246:function(e,t,i){t=e.exports=i(150)(),t.push([e.i,'.v-spinner__fading-circle{width:.74667rem;height:.74667rem;position:relative}.v-spinner__fading-circle .circle{background:transparent;border:0;width:100%;height:100%;size:.74667rem;position:absolute}.v-spinner__fading-circle .circle:before{width:15%;height:15%;content:" ";display:block;margin:0 auto;size:.21333rem;border-radius:50%;-webkit-animation:v-spinner__fading-circle--opacity 1.2s infinite ease-in-out both;animation:v-spinner__fading-circle--opacity 1.2s infinite ease-in-out both}.v-spinner__fading-circle .circle.is-circle1{-webkit-transform:rotate(30deg);transform:rotate(30deg)}.v-spinner__fading-circle .circle.is-circle1:before{-webkit-animation-delay:-1.1s;animation-delay:-1.1s}.v-spinner__fading-circle .circle.is-circle2{-webkit-transform:rotate(60deg);transform:rotate(60deg)}.v-spinner__fading-circle .circle.is-circle2:before{-webkit-animation-delay:-1s;animation-delay:-1s}.v-spinner__fading-circle .circle.is-circle3{-webkit-transform:rotate(90deg);transform:rotate(90deg)}.v-spinner__fading-circle .circle.is-circle3:before{-webkit-animation-delay:-.9s;animation-delay:-.9s}.v-spinner__fading-circle .circle.is-circle4{-webkit-transform:rotate(120deg);transform:rotate(120deg)}.v-spinner__fading-circle .circle.is-circle4:before{-webkit-animation-delay:-.8s;animation-delay:-.8s}.v-spinner__fading-circle .circle.is-circle5{-webkit-transform:rotate(150deg);transform:rotate(150deg)}.v-spinner__fading-circle .circle.is-circle5:before{-webkit-animation-delay:-.7s;animation-delay:-.7s}.v-spinner__fading-circle .circle.is-circle6{-webkit-transform:rotate(180deg);transform:rotate(180deg)}.v-spinner__fading-circle .circle.is-circle6:before{-webkit-animation-delay:-.6s;animation-delay:-.6s}.v-spinner__fading-circle .circle.is-circle7{-webkit-transform:rotate(210deg);transform:rotate(210deg)}.v-spinner__fading-circle .circle.is-circle7:before{-webkit-animation-delay:-.5s;animation-delay:-.5s}.v-spinner__fading-circle .circle.is-circle8{-webkit-transform:rotate(240deg);transform:rotate(240deg)}.v-spinner__fading-circle .circle.is-circle8:before{-webkit-animation-delay:-.4s;animation-delay:-.4s}.v-spinner__fading-circle .circle.is-circle9{-webkit-transform:rotate(270deg);transform:rotate(270deg)}.v-spinner__fading-circle .circle.is-circle9:before{-webkit-animation-delay:-.3s;animation-delay:-.3s}.v-spinner__fading-circle .circle.is-circle10{-webkit-transform:rotate(300deg);transform:rotate(300deg)}.v-spinner__fading-circle .circle.is-circle10:before{-webkit-animation-delay:-.2s;animation-delay:-.2s}.v-spinner__fading-circle .circle.is-circle11{-webkit-transform:rotate(330deg);transform:rotate(330deg)}.v-spinner__fading-circle .circle.is-circle11:before{-webkit-animation-delay:-.1s;animation-delay:-.1s}.v-spinner__fading-circle .circle.is-circle12{-webkit-transform:rotate(1turn);transform:rotate(1turn)}.v-spinner__fading-circle .circle.is-circle12:before{-webkit-animation-delay:0s;animation-delay:0s}@-webkit-keyframes v-spinner__fading-circle--opacity{0%,39%,to{opacity:0;filter:alpha(opacity=0)}40%{opacity:1;filter:alpha(opacity=100)}}@keyframes v-spinner__fading-circle--opacity{0%,39%,to{opacity:0;filter:alpha(opacity=0)}40%{opacity:1;filter:alpha(opacity=100)}}',""])},247:function(e,t,i){t=e.exports=i(150)(),t.push([e.i,".v-spinner__triple-bounce .bounce1,.v-spinner__triple-bounce .bounce2,.v-spinner__triple-bounce .bounce3{width:.16rem;height:.16rem;background-color:#acb3bf;display:inline-block;border-radius:100%;-webkit-animation:v-spinner__triple-bounce--scale 1.4s infinite ease-in-out both;animation:v-spinner__triple-bounce--scale 1.4s infinite ease-in-out both}.v-spinner__triple-bounce .bounce1{-webkit-animation-delay:-.32s;animation-delay:-.32s}.v-spinner__triple-bounce .bounce2{-webkit-animation-delay:-.16s;animation-delay:-.16s}@-webkit-keyframes v-spinner__triple-bounce--scale{0%,80%,to{-webkit-transform:scale(0);transform:scale(0)}40%{-webkit-transform:scale(1);transform:scale(1)}}@keyframes v-spinner__triple-bounce--scale{0%,80%,to{-webkit-transform:scale(0);transform:scale(0)}40%{-webkit-transform:scale(1);transform:scale(1)}}",""])},248:function(e,t,i){var r=i(245);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);i(151)("75fac4c4",r,!0)},249:function(e,t,i){var r=i(246);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);i(151)("388eadfd",r,!0)},250:function(e,t,i){var r=i(247);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);i(151)("d2802bce",r,!0)},251:function(e,t,i){i(249);var r=i(41)(i(241),i(256),null,null);e.exports=r.exports},252:function(e,t,i){i(248);var r=i(41)(i(242),i(255),null,null);e.exports=r.exports},253:function(e,t,i){i(250);var r=i(41)(i(243),i(258),null,null);e.exports=r.exports},254:function(e,t,i){var r=i(41)(i(244),i(257),null,null);e.exports=r.exports},255:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticClass:"v-spinner__snake",style:{"border-top-color":"transparent","border-right-color":e.spinnerColor,"border-left-color":e.spinnerColor,"border-bottom-color":e.spinnerColor}})},staticRenderFns:[]}},256:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:["v-spinner__fading-circle circle-color-"+e._uid]},e._l(12,function(e){return i("div",{staticClass:"circle",class:["is-circle"+e]})}))},staticRenderFns:[]}},257:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",{staticClass:"v-spinner"},[i(e.spinner,{tag:"component"})],1)},staticRenderFns:[]}},258:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},staticRenderFns:[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"v-spinner__triple-bounce"},[i("div",{staticClass:"bounce1"}),e._v(" "),i("div",{staticClass:"bounce2"}),e._v(" "),i("div",{staticClass:"bounce3"})])}]}},264:function(e,t,i){"use strict";var r=i(0),n=i.n(r),o=i(25),s=i(26),a=i(73),c=i(75),l=i(16);if(void 0===d)var d=c.a;var u={currentItem:null,setCurrentItem:function(e){e&&(this.currentItem=e)},getCurrentItem:function(){return this.currentItem},clearCurrentItem:function(){this.currentItem=null},comments_retry_num:0,comments_retry_max:3,getToken:function(){if(!a.h||"function"!=typeof a.h)return d.reject("无效token，请在api中实现vGetMicroCommentToken方法");var e=this;return this.comments_retry_num<this.comments_retry_max?(this.comments_retry_num+=1,a.h().then(function(t){return e.comments_retry_num=0,d.resolve(t)})):d.reject("token尝试超过限制，请刷新页面重试")},addComment:function(e){var t=e.subjectId,i=void 0===t?0:t,r=e.userId,a=void 0===r?0:r,c=e.content,l=void 0===c?"":c,u=e.toUserId,f=void 0===u?0:u,g=e.toId,m=void 0===g?0:g,h=e.parent,p=void 0===h?0:h,v=this,_=o.a.COMMENT_UTL+"/v1/comment",b={appId:o.a.COMMENT_APPID,token:o.a.COMMENT_TOKEN};return o.a.COMMENT_TOKEN?(b.subjectId=parseInt(i),b.userId=parseInt(a),b.content=l.replace(/(^\s*)|(\s*$)/g,""),b.toUserId=parseInt(f),b.toId=parseInt(m),b.parent=parseInt(p),b.appId?n.a.http.post(_,b).then(function(e){var t=e.data;return s.a.log("[comments].addComment.SUCCESS: ",t),1002===t.Code?this.getToken().then(function(e){return o.a.COMMENT_TOKEN=e,v.addComment(i,a,l,f,m)}):0!==t.Code?d.reject(t):(v.setCurrentItem({OPT:1}),d.resolve(t))}):new d(function(e,t){t("微服务配置信息错误，请确认config.js的配置(COMMENT_APPID)")})):this.getToken().then(function(e){return o.a.COMMENT_TOKEN=e,v.addComment(i,a,l,f,m)})},delComment:function(e){var t=e.subjectId,i=void 0===t?0:t,r=e.commentId,a=void 0===r?0:r;s.a.log("[comments].delComment：");var c=this,u=o.a.COMMENT_UTL+"/v1/comment/"+a+"?",f=void 0,g={appId:o.a.COMMENT_APPID,token:o.a.COMMENT_TOKEN};if(!o.a.COMMENT_TOKEN)return this.getToken().then(function(e){return o.a.COMMENT_TOKEN=e,c.delComment({subjectId:i,commentId:a})});g.subjectId=parseInt(i),g.userId=parseInt(l.a.getters.userInfo.id);for(f in g)g.hasOwnProperty(f)&&(u+=f+"="+encodeURIComponent(g[f])+"&");return n.a.http.delete(u,g).then(function(e){var t=e.data;return s.a.log("[comments].delComment.SUCCESS: ",t),1002===t.Code?c.getToken().then(function(e){return o.a.COMMENT_TOKEN=e,c.delComment({subjectId:i,commentId:a})}):0!==t.Code?d.reject(t):(c.setCurrentItem({OPT:0}),d.resolve(t.Res))})},getSubject:function(e){var t=this;if(s.a.log("[comments].getSubject：",e),!e)return d.resolve(null);var i=[e],r=o.a.COMMENT_UTL+"/v1/comment/subject?",a={ids:"["+i.toString()+"]"},c=void 0;if(!a.ids)return d.reject({msg:"无效的SubjectIds"});if(!o.a.COMMENT_TOKEN)return this.getToken().then(function(i){return o.a.COMMENT_TOKEN=i,t.getSubject(e)});a.appId=o.a.COMMENT_APPID,a.token=o.a.COMMENT_TOKEN,a.userId=parseInt(l.a.getters.userInfo.id)||0;for(c in a)a.hasOwnProperty(c)&&(r+=c+"="+encodeURIComponent(a[c])+"&");return n.a.http.get(r).then(function(i){var r=i.data;return s.a.log("[comments].getSubject.SUCCESS: ",r),1002===r.Code?t.getToken().then(function(t){return o.a.COMMENT_TOKEN=t,this.getSubject(e)}):0!==r.Code?d.reject(r):d.resolve(r.Res[0]||null)})},getSubjectList:function(e){if(s.a.log("[comments].getSubjectList：",e),!e)return d.resolve([]);var t=[];e.forEach(function(e){t.push(e.id)});var i=this,r=o.a.COMMENT_UTL+"/v1/comment/subject?",a={ids:"["+t.toString()+"]"},c=void 0;if(!a.ids)return d.reject({msg:"无效的SubjectIds"});if(!o.a.COMMENT_TOKEN)return this.getToken().then(function(t){return o.a.COMMENT_TOKEN=t,i.getSubjectList(e)});a.appId=o.a.COMMENT_APPID,a.token=o.a.COMMENT_TOKEN,a.userId=parseInt(l.a.getters.userInfo.id)||0;for(c in a)a.hasOwnProperty(c)&&(r+=c+"="+encodeURIComponent(a[c])+"&");return n.a.http.get(r).then(function(t){var r=t.data;return s.a.log("[comments].getSubjectList.SUCCESS: ",r),1002===r.Code?i.getToken().then(function(t){return o.a.COMMENT_TOKEN=t,i.getSubjectList(e)}):0!==r.Code?d.reject(r):d.resolve(r.Res)})},getComments:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.subjectId,i=void 0===t?0:t,r=e.offset,a=void 0===r?1:r,c=e.limit,u=void 0===c?o.a.COMMENT_LIMIT:c,f=this,g={},m=void 0,h=o.a.COMMENT_UTL+"/v1/comment?";if(!o.a.COMMENT_TOKEN)return this.getToken().then(function(e){return o.a.COMMENT_TOKEN=e,f.getComments({subjectId:i,offset:a,limit:u})});s.a.log("MicroComment.getComments: ",i,a,u),g.appId=o.a.COMMENT_APPID,g.token=o.a.COMMENT_TOKEN,g.userId=parseInt(l.a.getters.userInfo.id)||0,g.subjectId=i,g.offset=a,g.limit=u;for(m in g)g.hasOwnProperty(m)&&(h+=m+"="+encodeURIComponent(g[m])+"&");return n.a.http.get(h).then(function(e){var t=e.data;return 1002===t.Code?f.getToken().then(function(e){return o.a.COMMENT_TOKEN=e,f.getComments({subjectId:i,offset:a,limit:u})}):0!==t.Code?d.reject(t):d.resolve(t.Res)})},getCommentsReply:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.subjectId,i=void 0===t?0:t,r=e.offset,a=void 0===r?1:r,c=e.limit,u=void 0===c?o.a.COMMENT_LIMIT:c,f=this,g={},m=void 0,h=o.a.COMMENT_UTL+"/v1/comment/list?";if(!o.a.COMMENT_TOKEN)return this.getToken().then(function(e){return o.a.COMMENT_TOKEN=e,f.getCommentsReply({subjectId:i,offset:a,limit:u})});s.a.log("MicroComment.getCommentsReply: ",i,a,u),g.appId=o.a.COMMENT_APPID,g.token=o.a.COMMENT_TOKEN,g.userId=parseInt(l.a.getters.userInfo.id)||0,g.subjectId=i,g.offset=a,g.limit=u;for(m in g)g.hasOwnProperty(m)&&(h+=m+"="+encodeURIComponent(g[m])+"&");return n.a.http.get(h).then(function(e){var t=e.data;return 1002===t.Code?f.getToken().then(function(e){return o.a.COMMENT_TOKEN=e,f.getCommentsReply({subjectId:i,offset:a,limit:u})}):0!==t.Code?d.reject(t):d.resolve(t.Res)})},getPraise:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.subjectId,i=void 0===t?0:t,r=e.offset,a=void 0===r?1:r,c=e.limit,u=void 0===c?15:c,f=this,g={},m=void 0,h=o.a.COMMENT_UTL+"/v1/like?";if(!o.a.COMMENT_TOKEN)return this.getToken().then(function(e){return o.a.COMMENT_TOKEN=e,f.getPraise({subjectId:i,offset:a,limit:u})});s.a.log("MicroComment.getPraise: ",i,a,u),g.appId=o.a.COMMENT_APPID,g.token=o.a.COMMENT_TOKEN,g.userId=parseInt(l.a.getters.userInfo.id)||0,g.subjectId=i,g.offset=a,g.limit=u;for(m in g)g.hasOwnProperty(m)&&(h+=m+"="+encodeURIComponent(g[m])+"&");return n.a.http.get(h).then(function(e){var t=e.data;return 1002===t.Code?f.getToken().then(function(e){return o.a.COMMENT_TOKEN=e,f.getPraise({subjectId:i,offset:a,limit:u})}):0!==t.Code?d.reject(t):d.resolve(t.Res)})},addPraise:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.subjectId,i=void 0===t?0:t,r=e.toId,s=void 0===r?0:r,a=e.type,c=void 0===a?1:a,u=this,f=o.a.COMMENT_UTL+"/v1/like",g={};return o.a.COMMENT_TOKEN?(g.appId=o.a.COMMENT_APPID,g.token=o.a.COMMENT_TOKEN,g.subjectId=parseInt(i),g.userId=parseInt(l.a.getters.userInfo.id)||0,g.toId=parseInt(s),g.type=parseInt(c),n.a.http.post(f,g).then(function(e){var t=e.data;return 1002===t.Code?u.getToken().then(function(e){return o.a.COMMENT_TOKEN=e,u.addPraise({subjectId:i,toId:s,type:c})}):0!==t.Code?d.reject(t):d.resolve(t.Res)})):this.getToken().then(function(e){return o.a.COMMENT_TOKEN=e,u.addPraise({subjectId:i,toId:s,type:c})})},delPraise:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.cId,i=void 0===t?0:t,r=e.subjectId,s=void 0===r?0:r,a=e.userId,c=void 0===a?0:a,l=this,u=o.a.COMMENT_UTL+"/v1/like?",f={},g=void 0;if(!o.a.COMMENT_TOKEN)return this.getToken().then(function(e){return o.a.COMMENT_TOKEN=e,l.delPraise({cId:i,subjectId:s,userId:c})});f.appId=o.a.COMMENT_APPID,f.token=o.a.COMMENT_TOKEN,f.userId=parseInt(c),f.cId=parseInt(i),f.subjectId=parseInt(s);for(g in f)f.hasOwnProperty(g)&&(u+=g+"="+encodeURIComponent(f[g])+"&");return n.a.http.delete(u).then(function(e){var t=e.data;return 1002===t.Code?l.getToken().then(function(e){return o.a.COMMENT_TOKEN=e,l.delPraise({cId:i,subjectId:s,userId:c})}):0!==t.Code?d.reject(t):d.resolve(t.Res)})},getUserComments:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.userId,r=void 0===i?parseInt(l.a.getters.userInfo.id)||0:i,a=t.subjectId,c=void 0===a?0:a,u=t.page,f=void 0===u?1:u,g=t.pageNum,m=void 0===g?o.a.COMMENT_LIMIT:g;if(!r)return d.resolve([]);var h=o.a.COMMENT_UTL+"/v1/comment/user?",p={appId:o.a.COMMENT_APPID,token:o.a.COMMENT_TOKEN};if(!o.a.COMMENT_TOKEN)return this.getToken().then(function(t){return o.a.COMMENT_TOKEN=t,e.getUserComments({userId:r,subjectId:c,page:f,pageNum:m})});p.userId=parseInt(r),p.subjectId=parseInt(c),p.page=parseInt(f),p.pageNum=parseInt(m);for(var v in p)p.hasOwnProperty(v)&&(h+=v+"="+encodeURIComponent(p[v])+"&");return n.a.http.get(h).then(function(t){var i=t.data;return s.a.log("[comments].getSubjectList.SUCCESS: ",i),1002===i.Code?e.getToken().then(function(t){return o.a.COMMENT_TOKEN=t,e.getUserComments({userId:r,subjectId:c,page:f,pageNum:m})}):0!==i.Code?d.reject(i):d.resolve(i.Res)})},getUserPrises:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.userId,r=void 0===i?parseInt(l.a.getters.userInfo.id)||0:i,a=t.subjectId,c=void 0===a?0:a,u=t.page,f=void 0===u?1:u,g=t.pageNum,m=void 0===g?o.a.COMMENT_LIMIT:g;if(!r)return d.resolve([]);var h=o.a.COMMENT_UTL+"/v1/like/user?",p={appId:o.a.COMMENT_APPID,token:o.a.COMMENT_TOKEN};if(!o.a.COMMENT_TOKEN)return this.getToken().then(function(t){return o.a.COMMENT_TOKEN=t,e.getUserPrises({userId:r,subjectId:c,page:f,pageNum:m})});p.userId=parseInt(r),p.subjectId=parseInt(c),p.page=parseInt(f),p.pageNum=parseInt(m);for(var v in p)p.hasOwnProperty(v)&&(h+=v+"="+encodeURIComponent(p[v])+"&");return n.a.http.get(h).then(function(t){var i=t.data;return s.a.log("[comments].getSubjectList.SUCCESS: ",i),1002===i.Code?e.getToken().then(function(t){return o.a.COMMENT_TOKEN=t,e.getUserPrises({userId:r,subjectId:c,page:f,pageNum:m})}):0!==i.Code?d.reject(i):d.resolve(i.Res)})},getCommentsNum:function(e){var t=this,i=e.userId,r=void 0===i?parseInt(l.a.getters.userInfo.id)||0:i,a=e.subjectId,c=void 0===a?0:a,u=o.a.COMMENT_UTL+"/v1/comment/user/num?",f={appId:o.a.COMMENT_APPID,token:o.a.COMMENT_TOKEN};if(!o.a.COMMENT_TOKEN)return this.getToken().then(function(e){return o.a.COMMENT_TOKEN=e,t.getCommentsNum({userId:r,subjectId:c})});f.userId=parseInt(r),f.subjectId=parseInt(c);for(var g in f)f.hasOwnProperty(g)&&(u+=g+"="+encodeURIComponent(f[g])+"&");return n.a.http.get(u).then(function(e){var i=e.data;return s.a.log("[comments].getCommentsNum.SUCCESS: ",i),1002===i.Code?t.getToken().then(function(e){return o.a.COMMENT_TOKEN=e,t.getCommentsNum({userId:r,subjectId:c})}):0!==i.Code?d.reject(i):d.resolve(i.Res)})},getPraisesNum:function(e){var t=this,i=e.userId,r=void 0===i?parseInt(l.a.getters.userInfo.id)||0:i,a=e.subjectId,c=void 0===a?0:a,u=o.a.COMMENT_UTL+"/v1/like/user/num?",f={appId:o.a.COMMENT_APPID,token:o.a.COMMENT_TOKEN};if(!o.a.COMMENT_TOKEN)return this.getToken().then(function(e){return o.a.COMMENT_TOKEN=e,t.getPraisesNum({userId:r,subjectId:c})});f.userId=parseInt(r),f.subjectId=parseInt(c);for(var g in f)f.hasOwnProperty(g)&&(u+=g+"="+encodeURIComponent(f[g])+"&");return n.a.http.get(u).then(function(e){var i=e.data;return s.a.log("[comments].getPraisesNum.SUCCESS: ",i),1002===i.Code?t.getToken().then(function(e){return o.a.COMMENT_TOKEN=e,t.getPraisesNum({userId:r,subjectId:c})}):0!==i.Code?d.reject(i):d.resolve(i.Res)})}};t.a=u},268:function(e,t,i){"use strict";var r=i(0),n=i.n(r),o="@@Scroll",s=function(e,t){var i=void 0,r=void 0,n=void 0,o=void 0,s=void 0,a=function(){e.apply(o,s),r=i};return function(){if(o=this,s=arguments,i=Date.now(),n&&(clearTimeout(n),n=null),r){var e=t-(i-r);e<0?a():n=setTimeout(function(){a()},e)}else a()}},a=function(e){return e===window?Math.max(window.pageYOffset||0,document.documentElement.scrollTop):e.scrollTop},c=n.a.prototype.$isServer?{}:document.defaultView.getComputedStyle,l=function(e){for(var t=e;t&&"HTML"!==t.tagName&&"BODY"!==t.tagName&&1===t.nodeType;){var i=c(t).overflowY;if("scroll"===i||"auto"===i)return t;t=t.parentNode}return window},d=function(e){return e===window?document.documentElement.clientHeight:e.clientHeight},u=function(e){return e===window?a(window):e.getBoundingClientRect().top+a(window)},f=function(e){for(var t=e.parentNode;t;){if("HTML"===t.tagName)return!0;if(11===t.nodeType)return!1;t=t.parentNode}return!1},g=function(){if(!this.binded){this.binded=!0;var e=this,t=e.el,i=t.getAttribute("scroll-tombstone"),r=Boolean(e.vm[i]);e.scrollEventTarget=l(t),!0!==r&&(e.scrollListener=s(m.bind(e),50),e.scrollEventTarget.addEventListener("scroll",e.scrollListener)),console.log("v-scroll.doBind: directive.scrollEventTarget = ",this.vm,e.scrollEventTarget),this.vm.$set(this.vm,"scrollTarget",e.scrollEventTarget);var n=t.getAttribute("scroll-disabled"),o=!1;n&&(this.vm.$watch(n,function(t){e.disabled=t,!t&&e.immediateCheck&&m.call(e)}),o=Boolean(e.vm[n])),e.disabled=o;var a=t.getAttribute("scroll-distance"),c=0;a&&(c=Number(e.vm[a]||a),isNaN(c)&&(c=0)),e.distance=c;var d=t.getAttribute("scroll-immediate-check"),u=!1;d&&(u=Boolean(e.vm[d])),e.immediateCheck=u,u&&m.call(e);var f=t.getAttribute("scroll-listen-for-event");f&&e.vm.$on(f,function(){m.call(e)})}},m=function(e){var t=this.scrollEventTarget,i=this.el,r=this.distance;if(!0===e||!this.disabled){var n=a(t),o=n+d(t),s=!1;if(t===i)s=t.scrollHeight-o<=r;else{s=o+r>=u(i)-u(t)+i.offsetHeight+n}s&&this.expression&&this.expression()}},h={bind:function(e,t,i){e[o]={el:e,vm:i.context,expression:t.value};var r=arguments;e[o].vm.$on("hook:mounted",function(){e[o].vm.$nextTick(function(){if(f(e))return void g.call(e[o],r);e[o].bindTryCount=0;!function t(){e[o].bindTryCount>10||(e[o].bindTryCount++,f(e)?g.call(e[o],r):setTimeout(t,50))}()})})},unbind:function(e){e[o].scrollEventTarget.removeEventListener("scroll",e[o].scrollListener)}},p=function(e){e.directive("Scroll",h)};!n.a.prototype.$isServer&&window.Vue&&(window.Scroll=h,n.a.use(p)),h.install=p,t.a=h},269:function(e,t,i){i(275);var r=i(41)(i(271),i(277),null,null);e.exports=r.exports},271:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(72),n=i.n(r),o=i(0),s=i.n(o),a=i(268),c=i(240),l=i(25),d=i(233);s.a.use(a.a),t.default={name:"v-scroll",props:{id:String,value:{type:Array,default:function(){return[]}},func:Function,funcType:{type:String,default:"page"},enabled:{type:Boolean,default:!0},pullAbled:{type:Boolean,default:!1},toper:{type:Boolean,default:!1},scrollDistance:{type:Number,default:100},tombstone:{type:Boolean,default:!1}},components:{"v-spinner":c.a},data:function(){return{uid:this._uid,currentValue:this.value,goTopTag:!1,oTime:-1,pageSize:l.a.LIMIT,offset:0,limit:l.a.LIMIT,page:1,pageNum:l.a.LIMIT,hasData:!0,hasMore:!0,isLoading:!1,scrollEndTxt:!1,refreshTag:!1,isEnabled:this.enabled,scrollTarget:null}},computed:{isShowText:function(){return!(!this.hasData||this.hasMore)}},watch:{value:function(e){this.currentValue=e},currentValue:function(e){this.$emit("input",e)},enabled:function(e){this.$logger.log("v-scroll.watch.enabled! "),this.isEnabled=e,!0===e&&this.value.length<=0&&this.refreshList()}},created:function(){this.$logger.log("[v-scroll]."+this._uid+".created..."),d.a.$on("v-scroll.refreshList",this.refreshList),d.a.$on("v-scroll.getList",this.getList),this.init()},mounted:function(){this.$logger.log("[v-scroll]."+this._uid+".mounted...",this.$route.name,this.$parent.$route.name)},activated:function(){this.$logger.log("*[v-scroll]."+this._uid+".activated...",this._inactive),this.isEnabled=this.enabled,this.$router.direct()&&this.init()},deactivated:function(){this.$logger.log("*[v-scroll]."+this._uid+".deactivated...",this._inactive),this.isEnabled=!1},beforeDestroy:function(){this.$logger.log("*[v-scroll]."+this._uid+".beforeDestroy...")},methods:{reset:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.resetData,i=void 0===t||t;this.oTime=-1,this.pageSize=l.a.LIMIT,this.offset=0,this.limit=l.a.LIMIT,this.page=1,this.pageNum=l.a.LIMIT,this.hasMore=!0,this.hasData=!0,this.scrollEndTxt=!1,i&&(this.currentValue=[])},init:function(){this.$logger.log("[v-scroll]."+this._uid+".init..."),this.reset(),this.tombstone||this.getList()},goTop:function(){var e=this.scrollTarget;this.$logger.log("[v-scroll]."+this._uid+".getList.after: ",e.scrollHeight,e.offsetHeight),e===window?window.scrollTo(0,0):e.scrollTop>0&&(e.scrollTop-=1e3,setTimeout(this.goTop,30))},getList:function(){var e=this;if(this.$logger.log("[v-scroll]."+this._uid+".getList.befor: !!!"),this.isEnabled){!this.scrollEndTxt&&this.scrollTarget&&(this.scrollEndTxt=this.scrollTarget.scrollHeight>5*this.scrollTarget.offsetHeight/4);var t=this.scrollTarget;if(this.$logger.log("[v-scroll]."+this._uid+".getList.befor: ",t),"function"==typeof this.func&&this.hasMore){var i=null;if("section"===this.funcType?i=this.getListBySection:"limit"===this.funcType?i=this.getListByLimit:"page"===this.funcType?i=this.getListByPage:"time"===this.funcType&&(i=this.getListByTime),"function"==typeof i)try{i().then(function(t){t&&t.length&&(e.currentValue=e.currentValue.concat(t)),e.scrollTarget&&(e.$logger.log("[v-scroll]."+e._uid+".getList.after: ",e.scrollTarget.scrollHeight,e.scrollTarget.offsetHeight),e.$nextTick(function(){e.scrollEndTxt=e.scrollTarget.scrollHeight>5*e.scrollTarget.offsetHeight/4}))})}catch(e){this.$logger.error("[v-scroll]."+this._uid+".getList.after.error: "+e)}}}},getListBySection:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.refresh,r=void 0!==i&&i;this.$logger.log("[v-scroll]."+this._uid+".getListBySection...");try{this.isLoading=!0;var o=this.offset,s=this.offset+this.limit;return this.tombstone&&(this.offset+=this.limit),this.func({offset:o,limit:s,refresh:r}).then(function(t){return e.$logger.log("[v-scroll]."+e._uid+".getListBySection.success: "+t,e.offset,e.limit),t&&t.length>0?(e.hasData=!0,e.tombstone||(e.offset+=t.length)):e.offset<=0&&(e.hasData=!1),(!t||t.length<e.limit)&&(e.hasMore=!1),e.isLoading=!1,n.a.resolve(t)}).catch(function(t){return e.$logger.error("[v-scroll]."+e._uid+".getListBySection.error: "+t),e.isLoading=!1,n.a.reject(t)})}catch(e){return this.$logger.error("[v-scroll]."+this._uid+".getListBySection.error: "+e),this.isLoading=!1,n.a.reject(e)}},getListByLimit:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.refresh,r=void 0!==i&&i;this.$logger.log("[v-scroll]."+this._uid+".getListByLimit...");try{return this.isLoading=!0,this.func({offset:this.offset,limit:this.limit,refresh:r}).then(function(t){return e.$logger.log("[v-scroll]."+e._uid+".getListByLimit.success: "+t,e.offset,e.limit),t&&t.length>0?(e.hasData=!0,e.offset+=t.length):e.offset<=0&&(e.hasData=!1),(!t||t.length<e.limit)&&(e.hasMore=!1),e.isLoading=!1,n.a.resolve(t)}).catch(function(t){return e.$logger.error("[v-scroll]."+e._uid+".getListByLimit.error: "+t),e.isLoading=!1,n.a.reject(t)})}catch(e){return this.$logger.error("[v-scroll]."+this._uid+".getListByLimit.error: "+e),this.isLoading=!1,n.a.reject(e)}},getListByPage:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.refresh,r=void 0!==i&&i;this.$logger.log("[v-scroll]."+this._uid+".getListByPage...",this.page,this.pageNum);try{return this.isLoading=!0,this.func({page:this.page,pageNum:this.pageNum,refresh:r}).then(function(t){return e.$logger.log("[v-scroll]."+e._uid+".getListByPage.success: "+t),t&&t.length>0?(e.hasData=!0,e.page+=1):e.page<=1&&(e.hasData=!1),(!t||t.length<e.pageNum)&&(e.hasMore=!1),e.isLoading=!1,n.a.resolve(t)}).catch(function(t){return e.$logger.error("[v-scroll]."+e._uid+".getListByPage.error: "+t),e.isLoading=!1,n.a.reject(t)})}catch(e){return this.$logger.error("[v-scroll]."+this._uid+".getListByPage.error: "+e),this.isLoading=!1,n.a.reject(e)}},getListByTime:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.refresh,r=void 0!==i&&i;this.$logger.log("[v-scroll]."+this._uid+".getListByTime...",this.oTime,this.pageSize);var o=this;try{return o.isLoading=!0,o.func({oTime:o.oTime,pageSize:o.pageSize,refresh:r}).then(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.res,r=void 0===i?[]:i,s=t.last,a=void 0===s?-1:s;return r&&r.length>0?(o.hasData=!0,o.oTime=a):e.currentValue.length||(o.hasData=!1),(!r||r.length<10)&&(o.hasMore=!1),o.isLoading=!1,n.a.resolve(r,a)}).catch(function(e){return o.isLoading=!1,n.a.reject(e)})}catch(e){return o.isLoading=!1,n.a.reject(e)}},refreshList:function(){var e=this;if(this.isEnabled&&!this._isDestroyed&&(this.$logger.log("!!!v-scroll."+this._uid+".refreshList..."),"function"==typeof this.func)){this.refreshTag=!0;var t=null;if("section"===this.funcType?t=this.getListBySection:"limit"===this.funcType?t=this.getListByLimit:"page"===this.funcType?t=this.getListByPage:"time"===this.funcType&&(t=this.getListByTime),"function"==typeof t)try{this.reset({resetData:!1}),t({refresh:!0}).then(function(t){e.$logger.log("[v-scroll]."+e._uid+".refreshList.after: ",e.currentValue.length),t&&t.length?e.currentValue=t:e.currentValue=[],e.refreshTag=!1}).then(function(t){e.scrollTarget&&(e.$logger.log("[v-scroll]."+e._uid+".refreshList.after: ",e.scrollTarget.scrollHeight,e.scrollTarget.offsetHeight),e.scrollEndTxt=e.scrollTarget.scrollHeight>5*e.scrollTarget.offsetHeight/4)}).catch(function(t){e.refreshTag=!1,e.$logger.error("[v-scroll]."+e._uid+".refreshList.after.error: "+t)})}catch(e){this.refreshTag=!1,this.$logger.error("[v-scroll]."+this._uid+".refreshList.after.error: "+e)}}}}}},273:function(e,t,i){t=e.exports=i(150)(),t.push([e.i,".v-scroll{height:100%}.v-scroll-container{height:100%;overflow:scroll;-webkit-overflow-scrolling:touch}.v-scroll-refresh{width:100%;height:.96rem;position:absolute;padding:0;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.v-scroll-refresh .v-spinner{text-align:center}.v-scroll-bottom{padding:.53333rem 0}.v-scroll-bottom .v-spinner{text-align:center}.v-scroll-bottom-txt{text-align:center;font-size:.4rem;color:#c1c1c1}.v-scroll-empty{width:100%;min-height:2.66667rem;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.v-scroll-top{width:1.01333rem;height:1.01333rem;position:fixed;z-index:99;bottom:2.26667rem;right:.58667rem;font-size:.61333rem;text-align:center;line-height:1.01333rem;color:#fff;border-radius:50%;background:#ccc;box-shadow:0 0 .08rem #999}",""])},275:function(e,t,i){var r=i(273);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);i(151)("4ee257c1",r,!0)},277:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"show",rawName:"v-show",value:e.isEnabled,expression:"isEnabled"}],staticClass:"v-scroll"},[i("div",{directives:[{name:"scroll",rawName:"v-scroll",value:e.getList,expression:"getList"},{name:"scroll-position",rawName:"v-scroll-position"}],ref:"container",staticClass:"v-scroll-container",attrs:{id:"combScroll_"+e._uid,"scroll-disabled":"isLoading","scroll-distance":"scrollDistance","scroll-enabled":"isEnabled","scroll-tombstone":"tombstone"}},[i("div",{ref:"content",staticClass:"v-scroll-content"},[e._t("default")],2),e._v(" "),!e.refreshTag&&(e.isLoading||e.isShowText&&e.scrollEndTxt&&e.currentValue.length>0)?i("div",{staticClass:"v-scroll-bottom"},[i("transition",{attrs:{name:"fade"}},[i("v-spinner",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}],attrs:{color:"#BBBAC2",type:"triple-bounce"}})],1),e._v(" "),i("transition",{attrs:{name:"fade"}},[i("p",{directives:[{name:"show",rawName:"v-show",value:!e.isLoading&&e.isShowText&&e.scrollEndTxt&&e.currentValue.length>0,expression:"!isLoading && isShowText && scrollEndTxt && currentValue.length > 0"}],staticClass:"v-scroll-bottom-txt"},[e._v("· END ·")])])],1):e._e(),e._v(" "),!e.hasData&&e.currentValue.length<=0?i("div",{staticClass:"v-scroll-empty"},[e._t("empty",[e._v("暂无数据")])],2):e._e()]),e._v(" "),i("transition",{attrs:{name:"fade"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.toper&&e.goTopTag,expression:"toper && goTopTag"}],staticClass:"v-scroll-top icon icon-top",on:{click:e.goTop}})])],1)},staticRenderFns:[]}},472:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(72),n=i.n(r),o=i(232),s=i.n(o),a=i(264),c=i(73),l=i(269),d=i.n(l);t.default={components:{vFeed:s.a,vScroll:d.a},data:function(){return{listData:[]}},mounted:function(){this.$logger.log("comment-praises.mounted... "),this.subjectId=this.$route.params.forumId||0},methods:{getList:function(e){var t=this,i=e.page,r=e.pageNum;return a.a.getUserPrises({userId:this.$store.getters.userInfo.id,subjectId:this.subjectId,page:i,pageNum:r}).then(function(e){return t.$logger.log("comment-praises.getList: SUCCESS, ",e),e.length&&(t.listData=t.listData.concat(e),t.fillSubject(e)),n.a.resolve(e)})},fillSubject:function(e){var t=this,i=[];return e.forEach(function(e){i.includes(e.SubjectId)||i.push(e.SubjectId)}),c.k({ids:i}).then(function(e){t.$logger.log("comment-comments.fillSubject: ",e),t.listData.forEach(function(i,r){!i.title&&e.dataList.hasOwnProperty(i.SubjectId)&&t.$set(t.listData[r],"title",e.dataList[i.SubjectId].title),!i.abstract&&e.dataList.hasOwnProperty(i.SubjectId)&&t.$set(t.listData[r],"abstract",e.dataList[i.SubjectId].abstract),!i.userInfo&&e.dataList.hasOwnProperty(i.SubjectId)&&t.$set(t.listData[r],"userInfo",e.dataList[i.SubjectId].userInfo)})})},goInfo:function(e){this.$router.push({name:"comment-info",params:{id:e.SubjectId},query:{}})}}}},594:function(e,t,i){t=e.exports=i(150)(),t.push([e.i,".page-comment-praises li{padding:.26667rem 0;border-bottom:.13333rem solid #f2f2f4}.page-comment-praises .icon{font-size:.4rem;color:#fb434f;padding-right:.4rem}.page-comment-praises .right,.page-comment-praises .right p{text-align:right;padding-right:.4rem}.page-comment-praises .right p{width:100%;margin:0}",""])},705:function(e,t,i){var r=i(594);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);i(151)("692ecc20",r,!0)},853:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"page page-comment-praises"},[i("v-scroll",{attrs:{func:e.getList,"func-type":"section"},model:{value:e.listData,callback:function(t){e.listData=t},expression:"listData"}},[i("ul",e._l(e.listData,function(t){return i("li",{staticClass:"height-auto",on:{click:function(i){e.goInfo(t)}}},[t.userInfo?i("v-feed",{attrs:{imgUrl:t.userInfo.avatar,title:t.userInfo.name,subtitle:t.userInfo.subtitle,classes:"title small no-border"}}):e._e(),e._v(" "),i("v-text",{attrs:{value:"当前主题："+(t.title?t.title:"未找到主题："+t.SubjectId)}}),e._v(" "),i("v-text",{attrs:{value:t.abstract}}),e._v(" "),i("div",{staticClass:"right"},[i("i",{staticClass:"icon icon-heart-o done"}),e._v(" "),i("span",{staticClass:"right"},[e._v(e._s(e._f("specialTime")(t.Tm)))])])],1)}))])],1)},staticRenderFns:[]}}});