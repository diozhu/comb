(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"/lTB":function(t,e,i){"use strict";var s=i("x0j7");i.n(s).a},"1MEp":function(t,e,i){"use strict";var s=i("P5Lg"),n={name:"v-text",props:{value:String,limit:{type:Number,default:0},length:Number,expandEnabled:{type:Boolean,default:!1}},data:function(){return{}},created:function(){},methods:{handleClick:function(){var t="limit"+this.limit;Object(s.d)(this.$el,t)?Object(s.g)(this.$el,t):Object(s.a)(this.$el,t)}},render:function(t){var e={attrs:{id:"vText"+this._uid},class:["v-text",1===this.limit?"single":this.limit?"limit"+this.limit:""]};return this.expandEnabled&&(e.on={click:this.handleClick}),t("p",e,this.length&&this.value?this.value.substring(0,this.length):this.value)}},r=(i("Cwv2"),i("KHd+")),o=Object(r.a)(n,void 0,void 0,!1,null,null,null);e.a=o.exports},"1tEt":function(t,e,i){},"3DT5":function(t,e,i){"use strict";var s=i("MUE/");i.n(s).a},"4uyO":function(t,e,i){},CcUO:function(t,e,i){},Cwv2:function(t,e,i){"use strict";var s=i("CcUO");i.n(s).a},F94j:function(t,e,i){"use strict";var s=i("1tEt");i.n(s).a},Jno2:function(t,e,i){},"MUE/":function(t,e,i){},NbUc:function(t,e,i){"use strict";var s=i("4uyO");i.n(s).a},XPLT:function(t,e,i){"use strict";var s={name:"snake",props:{size:Number,color:String},computed:{spinnerColor:function(){return this.color||this.$parent.color||"#007AFF"}}},n=(i("NbUc"),i("KHd+")),r=Object(n.a)(s,function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"v-spinner__snake",style:{"border-top-color":"transparent","border-right-color":t.spinnerColor,"border-left-color":t.spinnerColor,"border-bottom-color":t.spinnerColor}})},[],!1,null,null,null).exports,o={name:"triple-bounce",props:{size:Number,color:String},computed:{bounceStyle:function(){return{backgroundColor:this.spinnerColor}}}},l=(i("3DT5"),Object(n.a)(o,function(){return this.$createElement,this._self._c,this._m(0)},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"v-spinner__triple-bounce"},[e("div",{staticClass:"bounce1"}),this._v(" "),e("div",{staticClass:"bounce2"}),this._v(" "),e("div",{staticClass:"bounce3"})])}],!1,null,null,null).exports),a={name:"fading-circle",props:{size:Number,color:String},computed:{spinnerColor:function(){return this.color||this.$parent.color||"#007AFF"}},created:function(){if(!this.$isServer){this.styleNode=document.createElement("style");var t=".circle-color-"+this._uid+" > div::before { background-color: "+this.spinnerColor+"; }";this.styleNode.type="text/css",this.styleNode.rel="stylesheet",this.styleNode.title="fading circle style",document.getElementsByTagName("head")[0].appendChild(this.styleNode),this.styleNode.appendChild(document.createTextNode(t))}},destroyed:function(){this.styleNode&&this.styleNode.parentNode.removeChild(this.styleNode)}},c=["snake","triple-bounce","fading-circle"],u={name:"v-spinner",computed:{spinner:function(){return"spinner-"+(t=this.type,"[object Number]"==={}.toString.call(t)?(c.length<=t&&(t=0),c[t]):(-1===c.indexOf(t)&&(t=c[0]),t));var t}},components:{SpinnerSnake:r,SpinnerTripleBounce:l,SpinnerFadingCircle:(i("/lTB"),Object(n.a)(a,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{class:["v-spinner__fading-circle circle-color-"+this._uid]},this._l(12,function(t){return e("div",{key:t,staticClass:"circle",class:["is-circle"+t]})}))},[],!1,null,null,null).exports)},props:{type:{default:0},size:{type:Number,default:28},color:{type:String,default:"#ccc"}}},h=Object(n.a)(u,function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"v-spinner"},[e(this.spinner,{tag:"component"})],1)},[],!1,null,null,null).exports;i.d(e,"a",function(){return h})},hUns:function(t,e,i){"use strict";var s=i("i7/w"),n=i.n(s),r="@@Scroll",o=function(t){return t===window?Math.max(window.pageYOffset||0,document.documentElement.scrollTop):t.scrollTop},l=n.a.prototype.$isServer?{}:document.defaultView.getComputedStyle,a=function(t){return t===window?o(window):t.getBoundingClientRect().top+o(window)},c=function(t){for(var e=t.parentNode;e;){if("HTML"===e.tagName)return!0;if(11===e.nodeType)return!1;e=e.parentNode}return!1},u=function(){if(!this.binded){this.binded=!0;var t,e,i,s,n,r,o,a,c=this,u=c.el,d=u.getAttribute("scroll-tombstone"),g=Boolean(c.vm[d]);c.isBottom=!1,c.scrollEventTarget=function(t){for(var e=u;e&&"HTML"!==e.tagName&&"BODY"!==e.tagName&&1===e.nodeType;){var i=l(e).overflowY;if("scroll"===i||"auto"===i)return e;e=e.parentNode}return window}(),!0!==g&&(c.scrollListener=(t=h.bind(c),e=50,o=r=n=s=i=void 0,a=function(){t.apply(r,o),s=i},function(){if(r=this,o=arguments,i=Date.now(),n&&(clearTimeout(n),n=null),s){var t=e-(i-s);t<0?a():n=setTimeout(function(){a()},t)}else a()}),c.scrollEventTarget.addEventListener("scroll",c.scrollListener)),this.vm.$set(this.vm,"scrollTarget",c.scrollEventTarget);var f=u.getAttribute("scroll-disabled"),v=!1;f&&(this.vm.$watch(f,function(t){!(c.disabled=t)&&c.immediateCheck&&h.call(c)}),v=Boolean(c.vm[f])),c.disabled=v;var p=u.getAttribute("scroll-distance"),m=0;p&&(m=Number(c.vm[p]||p),isNaN(m)&&(m=0)),c.distance=m;var T=u.getAttribute("scroll-immediate-check"),_=!1;T&&(_=Boolean(c.vm[T])),(c.immediateCheck=_)&&h.call(c);var y=u.getAttribute("scroll-listen-for-event");y&&c.vm.$on(y,function(){h.call(c)})}},h=function(t){var e=this.scrollEventTarget,i=this.el,s=this.distance;if(!0===t||!this.disabled){var n,r=o(e),l=r+((n=e)===window?document.documentElement.clientHeight:n.clientHeight),c=i.getAttribute("scroll-scrolling-func");e.scrollHeight<l||e.scrollHeight===l?this.isBottom=!0:this.isBottom=!1,c&&this.vm[c]&&"function"==typeof this.vm[c]&&this.vm[c](e,r),(e===i?e.scrollHeight-l<=s:a(i)-a(e)+i.offsetHeight+r<=l+s)&&this.expression&&this.expression()}},d={bind:function(t,e,i){t[r]={el:t,vm:i.context,expression:e.value};var s=arguments;t[r].vm.$on("hook:mounted",function(){t[r].vm.$nextTick(function(){c(t)?u.call(t[r],s):(t[r].bindTryCount=0,function e(){10<t[r].bindTryCount||(t[r].bindTryCount++,c(t)?u.call(t[r],s):setTimeout(e,50))}())})})},unbind:function(t){t[r].scrollEventTarget.removeEventListener("scroll",t[r].scrollListener)}},g=function(t){t.directive("Scroll",d)};!n.a.prototype.$isServer&&window.Vue&&(window.Scroll=d,n.a.use(g)),d.install=g,e.a=d},iQJk:function(t,e,i){"use strict";var s=i("YJXF"),n={name:"v-feed",props:{id:String,feedId:String,imgUrl:String,msgNum:String,title:String,subtitle:String,sex:String,age:String,desc:String,classes:String,iconFunc:Function},data:function(){return{}},computed:{feedImg:function(){return s.m(this.imgUrl)},feedClass:function(){return/^o_/.test(this.feedId)||/^s_/.test(this.feedId)?"square":/^g_/.test(this.feedId)?"hexagon":"circle"}},created:function(){},methods:{handleClick:function(t){this.iconFunc&&"function"==typeof this.iconFunc&&(t.stopPropagation(),t.preventDefault(),this.iconFunc(),this.$toast({message:"您是不是想去个人中心？",duration:1e3,position:"bottom"}))}}},r=(i("F94j"),i("KHd+")),o=Object(r.a)(n,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"v-feed",class:[t.classes]},[i("div",{on:{click:t.handleClick}},[i("div",{staticClass:"v-feed__img",class:[t.feedClass]},[i("img",{attrs:{src:t.feedImg}})]),0<t.msgNum?i("i",{staticClass:"v-feed__num",class:[{mix:9<t.msgNum}],domProps:{textContent:t._s(t.msgNum)}}):t._e()]),t._v(" "),i("div",{staticClass:"v-feed__con"},[i("div",{staticClass:"v-feed__con-info"},[i("div",{staticClass:"v-feed__tit",domProps:{textContent:t._s(t.title)}}),t._v(" "),t.sex?i("div",{staticClass:"v-feed__sex icon",class:[{"icon-male":"1"==t.sex},{"icon-female":"2"==t.sex}]}):t._e(),t._v(" "),t.age?i("div",{staticClass:"v-feed__age",domProps:{textContent:t._s(t.age)}}):t._e(),t._v(" "),t.desc?i("div",{staticClass:"v-feed__desc",domProps:{textContent:t._s(t.desc)}}):t._e()]),t._v(" "),i("div",{staticClass:"v-feed__sub",domProps:{textContent:t._s(t.subtitle)}})])])},[],!1,null,null,null);e.a=o.exports},jwDh:function(t,e,i){"use strict";var s=i("Jno2");i.n(s).a},mYNw:function(t,e,i){"use strict";var s=i("4d7F"),n=i.n(s),r=i("i7/w"),o=i.n(r),l=i("hUns"),a=i("XPLT"),c=i("20nU"),u=i("ywuS");o.a.use(l.a);var h={name:"v-scroll",props:{from:String,id:String,value:{type:Array,default:function(){return[]}},func:Function,endFunc:Function,scrollingFunc:Function,funcType:{type:String,default:"page"},enabled:{type:Boolean,default:!0},pullAbled:{type:Boolean,default:!1},toper:{type:Boolean,default:!1},scrollDistance:{type:Number,default:100},tombstone:{type:Boolean,default:!1},hasDataParent:{type:Boolean,default:!0},isGoInit:{type:Boolean,default:!0},scrollEndFlowTag:{type:Boolean,default:!1},endFuncEnable:{type:Boolean,default:!1}},components:{"v-spinner":a.a},data:function(){return{pageHeight:0,uid:this._uid,currentValue:this.value,goTopTag:!1,oTime:-1,pageSize:c.a.LIMIT,offset:0,limit:c.a.LIMIT,page:1,pageNum:c.a.LIMIT,hasMore:!0,hasMoreTotal:!0,isLoading:!1,scrollEndTxt:!1,refreshTag:!1,hasData:!0,isEnabled:this.enabled,scrollTarget:null}},computed:{isShowText:function(){return!(!this.hasData||this.hasMore)}},watch:{value:function(t){this.currentValue=t},currentValue:function(t){this.$emit("input",t)},enabled:function(t){this.$logger.log("v-scroll.watch.enabled! "),!0===(this.isEnabled=t)&&this.value.length<=0&&this.refreshList()}},created:function(){this.$logger.log("[v-scroll]."+this._uid+".created..."),u.a.$on("v-scroll.refreshList",this.refreshList),u.a.$on("v-scroll.getList",this.getList),this.$route.meta&&this.$route.meta.keepAlive||this.init()},mounted:function(){this.pageHeight=window.screen.height,this.$logger.log("[v-scroll]."+this._uid+".mounted...",this.$route.name,this.$parent.$route.name)},activated:function(){if(this.$logger.log("*[v-scroll]."+this._uid+".activated...",this._inactive,this.$router.direct()),this.isEnabled=this.enabled,this.$router.direct()){if(!this.isGoInit)return!1;this.init()}},deactivated:function(){this.$logger.log("*[v-scroll]."+this._uid+".deactivated...",this._inactive),this.isEnabled=!1},beforeDestroy:function(){this.$logger.log("*[v-scroll]."+this._uid+".beforeDestroy...")},methods:{reset:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.resetData,i=void 0===e||e,s=t.goTop,n=void 0===s||s;this.oTime=-1,this.pageSize=c.a.LIMIT,this.offset=0,this.limit=c.a.LIMIT,this.page=1,this.pageNum=c.a.LIMIT,this.hasMore=!0,this.hasData=!0,this.scrollEndTxt=!1,i&&(this.currentValue=[]),n&&this.scrollTarget&&(this.scrollTarget.scrollTop=0),this.hasMoreTotal=!0},init:function(){this.$logger.log("[v-scroll]."+this._uid+".init..."),this.reset(),this.tombstone||this.getList()},goTop:function(){var t=this.scrollTarget;this.$logger.log("[v-scroll]."+this._uid+".getList.after: ",t.scrollHeight,t.offsetHeight),t===window?window.scrollTo(0,0):0<t.scrollTop&&(t.scrollTop-=1e3,setTimeout(this.goTop,30))},getList:function(){var t=this;if(this.isEnabled){!this.scrollEndTxt&&this.scrollTarget&&(this.scrollEndTxt=!!this.scrollEndFlowTag||this.scrollTarget.scrollHeight>5*this.scrollTarget.offsetHeight/4);var e=this.scrollTarget;if("function"==typeof this.func){if("function"==typeof this.endFunc&&!this.hasMore&&this.hasMoreTotal&&this.endFuncEnable)try{if(this.isLoading)return;if(this.isEnding)return;this.isEnding=!0,this.isLoading=!0,this.endFunc().then(function(e){e?(t.$logger.log("[v-scroll]."+t._uid+".endFunc.after: ",e),t.reset({resetData:!1,goTop:!1})):t.hasMoreTotal=!1,t.isEnding=!1,t.isLoading=!1})}catch(e){this.$logger.error("[v-scroll]."+this._uid+".endFunc.after.error: "+e)}if(this.hasMore){this.$logger.log("[v-scroll]."+this._uid+".getList.befor: ",e);var i=null;if("section"===this.funcType?i=this.getListBySection:"limit"===this.funcType?i=this.getListByLimit:"page"===this.funcType?i=this.getListByPage:"time"===this.funcType&&(i=this.getListByTime),"function"==typeof i)try{i().then(function(e){e&&e.length&&(t.currentValue=t.currentValue.concat(e)),t.scrollTarget&&(t.$logger.log("[v-scroll]."+t._uid+".getList.after: ",t.scrollTarget.scrollHeight,t.scrollTarget.offsetHeight),t.$nextTick(function(){t.scrollEndTxt=!!t.scrollEndFlowTag||t.scrollTarget.scrollHeight>5*t.scrollTarget.offsetHeight/4})),t.endFunc&&"function"==typeof t.endFunc&&(t.currentValue&&0<t.currentValue.length?t.hasData=!0:t.hasData=!1)})}catch(e){this.$logger.error("[v-scroll]."+this._uid+".getList.after.error: "+e)}}}}},getListBySection:function(){var t=this,e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).refresh,i=void 0!==e&&e;this.$logger.log("[v-scroll]."+this._uid+".getListBySection...");try{this.isLoading=!0;var s=this.offset,r=this.offset+this.limit;return this.tombstone&&(this.offset+=this.limit),this.func({offset:s,limit:r,refresh:i}).then(function(e){return t.$logger.log("[v-scroll]."+t._uid+".getListBySection.success: "+e,t.offset,t.limit),e&&0<e.length?(t.hasData=!0,t.tombstone||(t.offset+=e.length)):t.offset<=0&&(t.hasData=!1),(!e||e.length<t.limit)&&(t.hasMore=!1),t.isLoading=!1,n.a.resolve(e)}).catch(function(e){return t.$logger.error("[v-scroll]."+t._uid+".getListBySection.error: "+e),t.isLoading=!1,n.a.reject(e)})}catch(e){return this.$logger.error("[v-scroll]."+this._uid+".getListBySection.error: "+e),this.isLoading=!1,n.a.reject(e)}},getListByLimit:function(){var t=this,e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).refresh,i=void 0!==e&&e;this.$logger.log("[v-scroll]."+this._uid+".getListByLimit...");try{return this.isLoading=!0,this.func({offset:this.offset,limit:this.limit,refresh:i}).then(function(e){return t.$logger.log("[v-scroll]."+t._uid+".getListByLimit.success: "+e,t.offset,t.limit),e&&0<e.length?(t.hasData=!0,t.offset+=e.length):t.offset<=0&&(t.hasData=!1),(!e||e.length<t.limit)&&(t.hasMore=!1),t.isLoading=!1,n.a.resolve(e)}).catch(function(e){return t.$logger.error("[v-scroll]."+t._uid+".getListByLimit.error: "+e),t.isLoading=!1,n.a.reject(e)})}catch(e){return this.$logger.error("[v-scroll]."+this._uid+".getListByLimit.error: "+e),this.isLoading=!1,n.a.reject(e)}},getListByPage:function(){var t=this,e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).refresh,i=void 0!==e&&e;this.$logger.log("[v-scroll]."+this._uid+".getListByPage...",this.page,this.pageNum);try{return this.isLoading=!0,this.func({page:this.page,pageNum:this.pageNum,refresh:i}).then(function(e){return t.$logger.log("[v-scroll]."+t._uid+".getListByPage.success: "+e),e&&0<e.length?(t.hasData=!0,t.page+=1):t.page<=1&&(t.hasData=!1),(!e||e.length<t.pageNum)&&(t.hasMore=!1),t.isLoading=!1,n.a.resolve(e)}).catch(function(e){return t.$logger.error("[v-scroll]."+t._uid+".getListByPage.error: "+e),t.isLoading=!1,n.a.reject(e)})}catch(e){return this.$logger.error("[v-scroll]."+this._uid+".getListByPage.error: "+e),this.isLoading=!1,n.a.reject(e)}},getListByTime:function(){var t=this,e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).refresh,i=void 0!==e&&e;this.$logger.log("[v-scroll]."+this._uid+".getListByTime...",this.oTime,this.pageSize);var s=this;try{return s.isLoading=!0,s.func({oTime:s.oTime,pageSize:s.pageSize,refresh:i}).then(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},i=e.res,r=void 0===i?[]:i,o=e.last,l=void 0===o?-1:o;return r&&0<r.length?(s.hasData=!0,s.oTime=l):t.currentValue.length||(s.hasData=!1),(!r||r.length<10)&&(s.hasMore=!1),s.isLoading=!1,n.a.resolve(r,l)}).catch(function(t){return s.isLoading=!1,n.a.reject(t)})}catch(e){return s.isLoading=!1,n.a.reject(e)}},refreshList:function(){var t=this;if(this.isEnabled&&!this._isDestroyed&&(this.$logger.log("!!!v-scroll."+this._uid+".refreshList..."),"function"==typeof this.func)){this.refreshTag=!0;var e=null;if("section"===this.funcType?e=this.getListBySection:"limit"===this.funcType?e=this.getListByLimit:"page"===this.funcType?e=this.getListByPage:"time"===this.funcType&&(e=this.getListByTime),"function"==typeof e)try{this.reset({resetData:!1,goTop:!0}),e({refresh:!0}).then(function(e){t.$logger.log("[v-scroll]."+t._uid+".refreshList.after: ",t.currentValue.length),e&&e.length?t.currentValue=e:t.currentValue=[],t.refreshTag=!1}).then(function(e){t.scrollTarget&&(t.$logger.log("[v-scroll]."+t._uid+".refreshList.after: ",t.scrollTarget.scrollHeight,t.scrollTarget.offsetHeight),t.scrollEndTxt=!!t.scrollEndFlowTag||t.scrollTarget.scrollHeight>5*t.scrollTarget.offsetHeight/4)}).catch(function(e){t.refreshTag=!1,t.$logger.error("[v-scroll]."+t._uid+".refreshList.after.error: "+e)})}catch(e){this.refreshTag=!1,this.$logger.error("[v-scroll]."+this._uid+".refreshList.after.error: "+e)}}}}},d=(i("jwDh"),i("KHd+")),g=Object(d.a)(h,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"show",rawName:"v-show",value:t.isEnabled,expression:"isEnabled"}],staticClass:"v-scroll"},[i("div",{directives:[{name:"scroll",rawName:"v-scroll",value:t.getList,expression:"getList"},{name:"scroll-position",rawName:"v-scroll-position"}],ref:"container",staticClass:"v-scroll-container",attrs:{id:"combScroll_"+t._uid,"scroll-disabled":"isLoading","scroll-distance":"scrollDistance","scroll-enabled":"isEnabled","scroll-tombstone":"tombstone","scroll-scrolling-func":"scrollingFunc"}},[i("div",{ref:"content",staticClass:"v-scroll-content"},[t._t("default")],2),t._v(" "),"function"==typeof t.endFunc||!t.refreshTag&&(t.isLoading||t.isShowText&&t.scrollEndTxt&&0<t.currentValue.length)?i("div",{staticClass:"v-scroll-bottom"},[i("transition",{attrs:{name:"fade"}},[i("v-spinner",{directives:[{name:"show",rawName:"v-show",value:t.isLoading,expression:"isLoading"}],attrs:{color:"#BBBAC2",type:"triple-bounce"}})],1),t._v(" "),i("transition",{attrs:{name:"fade"}},[i("p",{directives:[{name:"show",rawName:"v-show",value:!t.isLoading&&t.isShowText&&t.scrollEndTxt&&0<t.currentValue.length,expression:"!isLoading && isShowText && scrollEndTxt && currentValue.length > 0"}],staticClass:"v-scroll-bottom-txt"},[t._t("endText",[t._v("· 我是有底线的 ·")])],2)])],1):t._e(),t._v(" "),!t.hasData&&t.currentValue.length<=0?i("div",{staticClass:"v-scroll-empty"},[t._t("empty",[t._v("暂无数据")])],2):t._e()]),t._v(" "),i("transition",{attrs:{name:"fade"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.toper&&t.goTopTag,expression:"toper && goTopTag"}],staticClass:"v-scroll-top icon icon-top",on:{click:t.goTop}})])],1)},[],!1,null,null,null);e.a=g.exports},x0j7:function(t,e,i){}}]);