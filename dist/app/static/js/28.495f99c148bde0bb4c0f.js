(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{"8dV5":function(t,e,s){},A8F1:function(t,e,s){"use strict";var n=s("8dV5");s.n(n).a},AqRN:function(t,e,s){"use strict";s.r(e);var n=s("4d7F"),i=s.n(n),l=s("QbLZ"),o=s.n(l),a=s("1MEp"),r=s("iQJk"),u=s("RNA+"),d=s("mYNw"),c=s("20nU"),f=s("626b"),h=s("WIBD"),p={components:{vText:a.a,vFeed:r.a,pFollow:u.a,vScroll:d.a},data:function(){return{flashTag:!0,listData:[]}},computed:o()({},Object(h.mapGetters)(["userInfo","follows"])),mounted:function(){this.$logger.log("scroll.mounted... ")},methods:{init:function(){},getList:function(t){var e=this,s=t.offset,n=void 0===s?0:s,l=t.limit,o=void 0===l?c.a.LIMIT:l;return f.i({offset:n,limit:o}).then(function(t){return e.$logger.log("scroll.methods.getList: SUCCESS, ",t),t.length&&0<t.length&&(e.listData=e.listData.concat(t)),i.a.resolve(t)})},goDetail:function(t){this.$router.push({name:"scroll-two",query:{subjectId:this.$route.query.subjectId,id:t.id}})},handleTest:function(){var t=this;this.flashTag=!1,this.listData=[],this.$nextTick(function(){t.flashTag=!0})}}},b=(s("ngrr"),s("KHd+")),v=Object(b.a)(p,function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"page page-scroll"},[s("v-scroll",{attrs:{func:t.getList,"func-type":"section",enabled:t.flashTag},model:{value:t.listData,callback:function(e){t.listData=e},expression:"listData"}},[s("h2",[t._v("单滚动条 样例")]),t._v(" "),s("p",{staticClass:"desc",on:{click:t.handleTest}},[t._v('添加了vuex管理"关注"状态的示例；\n\n滚动条要求以v-model形式绑定当前listData，用于刷新时清除数据重新渲染；\n\nfuncType为分页方式，本例采用node的section方式，与php对接时此参数可忽略，默认即可；\n\ngetList函数需要设定形参，由滚动条组件回传当前页码，用于与接口请求分页数据；\n\n            ')]),t._v(" "),s("ul",t._l(t.listData,function(e,n){return s("li",{key:n,on:{click:function(s){t.goDetail(e)}}},[s("v-feed",{attrs:{feedId:e.userInfo.feedId,imgUrl:e.userInfo.avatar,title:e.userInfo.title,subtitle:e.userInfo.subtitle,classes:"title small no-border"}}),t._v(" "),s("p-follow",{attrs:{followuid:parseInt(e.userInfo.id),userid:t.userInfo.id||0,status:e.userInfo.isfollow}}),t._v(" "),s("v-text",{attrs:{classes:"content",value:e.title}})],1)}))])],1)},[],!1,null,null,null);e.default=v.exports},"RNA+":function(t,e,s){"use strict";var n=s("QbLZ"),i=s.n(n),l=s("uhV7"),o=s("WIBD"),a={name:"p-follow",components:{vButton:l.a},props:{disabled:{type:Boolean,default:!1},userid:{type:Number,default:0},followuid:{type:Number,default:0,required:!0},status:{type:Number,default:0,required:!0},border:{type:Boolean,default:!1}},data:function(){return{stateStr:"+关注",btnClasses:(this.value?"":"red ")+(this.border?"":"no-border ")}},computed:i()({},Object(o.mapState)({followStatus:function(t){var e="";return this.userid===this.followuid?(e="我",this.btnClasses="no-border"):(t.follow.follows[this.followuid]?(e="已关注",this.btnClasses=""):(e="+关注",this.btnClasses="red"),this.border||(this.btnClasses+=" no-border")),e}})),watch:{},created:function(){this.init()},methods:i()({},Object(o.mapMutations)(["GET_FOLLOW"]),{init:function(){void 0===this.$store.state.follow.follows[this.followuid]&&this.followuid&&this.$store.commit("SET_FOLLOW",{uid:this.followuid,status:this.status})},handleClick:function(t){this.userid!==this.followuid&&(this.$store.state.follow.follows[this.followuid]?this.delAttention():this.addAttention())},addAttention:function(){this.$store.dispatch("followAdd",this.followuid),this.$toast({message:"关注成功",duration:500,position:"bottom"})},delAttention:function(){this.$store.dispatch("followDel",this.followuid),this.$toast({message:"已取消关注",duration:500,position:"bottom"})}})},r=(s("fOW3"),s("KHd+")),u=Object(r.a)(a,function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"p-follow"},[s("v-button",{attrs:{type:"info",disabled:t.disabled,"cus-class":t.btnClasses},on:{click:function(e){return e.stopPropagation(),t.handleClick(e)}}},[t._v(t._s(t.followStatus))])],1)},[],!1,null,null,null);e.a=u.exports},fOW3:function(t,e,s){"use strict";var n=s("xUbe");s.n(n).a},ngrr:function(t,e,s){"use strict";var n=s("r5oQ");s.n(n).a},r5oQ:function(t,e,s){},uhV7:function(t,e,s){"use strict";var n={name:"v-button",props:{nativeType:String,type:{type:String,default:"default",validator:function(t){return-1<["default","danger","primary","info"].indexOf(t)}},styles:{type:String,default:"radius",validator:function(t){return-1<["radius","rectangle","circle"].indexOf(t)}},cusClass:String,cusStyle:String,disableClass:String,disabled:Boolean,size:{type:String,default:"normal",validator:function(t){return-1<["normal","small","full"].indexOf(t)}}},data:function(){return{}},methods:{handleClick:function(t){this.$emit("click",t)}}},i=(s("A8F1"),s("KHd+")),l=Object(i.a)(n,function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("button",{staticClass:"v-btn",class:[""+t.type,""+t.size,""+t.styles,{"is-disabled":t.disabled}],style:t.cusStyle,attrs:{type:t.nativeType,disabled:t.disabled},on:{click:t.handleClick}},[s("label",{staticClass:"v-btn__text"},[t._t("default")],2)])},[],!1,null,null,null);e.a=l.exports},xUbe:function(t,e,s){}}]);