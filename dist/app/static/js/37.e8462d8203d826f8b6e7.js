(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{"1tEt":function(t,e,i){},"2xt5":function(t,e,i){},F94j:function(t,e,i){"use strict";var n=i("1tEt");i.n(n).a},UTlA:function(t,e,i){"use strict";var n={name:"v-swipe-label",props:{id:String,fixed:{type:Boolean,default:!1},showBottomLine:{type:Boolean,default:!1},dark:{type:Boolean,default:!1}},data:function(){return{position:0,isSticky:!1,isFixed:!1,floatClass:"",startX:0,lastX:0,lastMoveTime:0,lastMoveStart:0,stopMovingTag:!1,minl:0,maxl:-8e3,conStyle:{left:"0px"},left:0}},computed:{oh:function(){return this.$el.getBoundingClientRect().top}},watch:{"$route.name":function(t){this.fixed&&(this._inactive?(this.$logger.log("v-swipe-label.watch.back..."),window.removeEventListener("scroll",this.scrollHandle)):(this.$logger.log("v-swipe-label.watch.in..."),window.addEventListener("scroll",this.scrollHandle)))}},created:function(){this.$logger.log("v-swipe-label created...")},mounted:function(){var t=this;this.$nextTick(function(){t.init()})},methods:{init:function(){this.maxl=-(this.$refs.content.offsetWidth-this.$refs.container.offsetWidth),this.fixed&&(this.getScrollEventTarget(this.$el).addEventListener("scroll",this.throttle(this.scrollHandle,10)),this.position=this.$el.getBoundingClientRect().top)},throttle:function(t,e){var i=void 0,n=void 0,s=void 0,a=void 0,o=void 0,l=function(){t.apply(a,o),n=i};return function(){if(a=this,o=arguments,i=Date.now(),s&&(clearTimeout(s),s=null),n){var t=e-(i-n);t<0?l():s=setTimeout(function(){l()},t)}else l()}},getScrollEventTarget:function(t){for(var e=t;e&&"HTML"!==e.tagName&&"BODY"!==e.tagName&&1===e.nodeType;){var i=document.defaultView.getComputedStyle(e).overflowY;if("scroll"===i||"auto"===i)return e;e=e.parentNode}return window}}},s=(i("h6FD"),i("KHd+")),a=Object(s.a)(n,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:["v-swipe-label",{dark:t.dark}]},[i("div",{ref:"container",staticClass:"v-swipe-label__container",on:{touchmove:function(t){t.stopPropagation()},touchend:function(t){t.stopPropagation()}}},[i("div",{ref:"content",staticClass:"v-swipe-label__content",style:{left:t.left+"px"}},[t._t("default")],2),t._v(" "),t.showBottomLine?i("p",{staticClass:"line"}):t._e()])])},[],!1,null,null,null);e.a=a.exports},Wyo3:function(t,e,i){},Yh7L:function(t,e,i){"use strict";i.r(e);var n=i("iQJk"),s={name:"page-swipe-label",components:{vSwipeLabel:i("UTlA").a,vFeed:n.a},data:function(){return{labs:[{id:0,txt:"菜单一"},{id:1,txt:"菜单二"},{id:2,txt:"菜单三"},{id:3,txt:"菜单四"},{id:4,txt:"菜单五"},{id:5,txt:"菜单六"}],currentLab:0}},mounted:function(){this.$logger.log("swipe label mounted... ")},methods:{onTransitionEnd:function(t){this.$logger.log("!!!!!!!!![swipe-label].onTransitionEnd!",t)},clickLabel:function(t){this.$logger.log("click label: ",t),this.currentLab=t.id}}},a=(i("d/Ej"),i("KHd+")),o=Object(a.a)(s,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"page page-swipe-label"},[i("h2",[t._v("滑动菜单参考样例")]),t._v(" "),i("p",{staticClass:"desc"},[t._v("滑动菜单，可实现超出屏幕宽度后左右滑动的效果。")]),t._v(" "),t._m(0),t._v(" "),i("p",{staticClass:"desc"},[t._v("注：关于fixed，如果希望页面滚动超出滑动菜单时，让菜单置顶功能，目前有个小问题。\n            在ios中，如果浮动元素存在于滚动条内，由于滚动时ios会停止一切js计算，最后造成的效果是飘忽不定；\n            针对这个问题，目前采取的方法是使用position:stiky;的方式，此属性可去caniuse上查看兼容性，苹果的兼容性非常好，所以我进行了机型判断，如果是android，直接用fixed；\n            不过并不完美，当菜单内容宽度超出屏幕宽度太多的时候，个别ios系统会出现内容重绘，造成白底闪烁。你可以试试把下面的labs数组加到10个以上，会很明显（iphone 6 plus 10.x）；\n            试过了transform、overflow等，希望在bfc及合并层上能解决重绘的问题，但是目前还真没好的解决方案，在此备注，有时间时再尝试；\n            在找到更好的方案前，希望：1.尽量不要让滚动条内的元素浮动定位，尽量说服产品。。。2.如果非要悬浮，最好不要超屏幕宽度，超过就会因为重绘而闪烁。\n        ")]),t._v(" "),i("h2",[t._v("示例")]),t._v(" "),i("v-swipe-label",{staticClass:"label-swipe",attrs:{fixed:!0}},t._l(t.labs,function(e,n){return i("div",{key:n,class:["itm",{cur:t.currentLab==e.id}],on:{click:function(i){t.clickLabel(e)}}},[t._v(t._s(e.txt))])})),t._v(" "),i("pre",{directives:[{name:"highlightjs",rawName:"v-highlightjs"}],on:{touchend:function(t){t.stopPropagation()}}},[i("code",{staticClass:"html"},[t._v('\n<v-swipe-label :fixed="true">\n    <div v-for="item in labs"\n         :class="[\'itm\', {cur: currentLab==item.id}]"\n         @click="clickLabel(item)"\n    >{ { item.txt } }</div>\n</v-swipe-label>\n        ')])]),t._v(" "),i("pre",{directives:[{name:"highlightjs",rawName:"v-highlightjs"}],on:{touchend:function(t){t.stopPropagation()}}},[i("code",{staticClass:"html"},[t._v("\nexport default {\n    data() {\n        return {\n            labs: [\n                {id: 0, txt: '菜单一'},\n                {id: 1, txt: '菜单二'},\n                {id: 2, txt: '菜单三'},\n                {id: 3, txt: '菜单四'},\n                {id: 4, txt: '菜单五'},\n                {id: 5, txt: '菜单六'}\n            ],\n            currentLab: 0\n        };\n    },\n    methods: {\n        clickLabel (item) {\n            logger.log('click label: ', item);\n            this.currentLab = item.id;\n        }\n    }\n};\n        ")])]),t._v(" "),i("h2",[t._v("组件嵌套")]),t._v(" "),i("v-swipe-label",{staticClass:"feed-swipe",attrs:{fixed:!0}},t._l(t.labs,function(e,n){return i("v-feed",{key:n,staticClass:"small",class:[{cur:t.currentLab==e.id}],attrs:{feedId:"c_1407459100687437",imgUrl:"http://hy-sport-img.b0.upaiyun.com/upload_image/31383bcec5c838fbc9ca7b7bdaf42d08b75dc1d2.png",title:"老朱",subtitle:"人在江湖飘~"},nativeOn:{click:function(i){t.clickLabel(e)}}})})),t._v(" "),i("p",{staticClass:"desc auto-height"},[t._v("组件需要根据slot内容的实际宽度计算左滑、右划的边界。\n            如果slot为子组件，可能会发生组件渲染先后顺序问题，造成swipe组件无法获取真实宽度进行算，导致滑动失效。\n            如遇此情况，请在子组件的mounted或created中通过init()方法进行rebuild。\n        ")]),t._v(" "),i("pre",{directives:[{name:"highlightjs",rawName:"v-highlightjs"}],on:{touchend:function(t){t.stopPropagation()}}},[i("code",{staticClass:"html"},[t._v("\n            if (typeof this.$parent.$parent.init === 'function') {\n                this.$parent.$parent.init(); // 由于父子组件嵌套，渲染顺序原因，在此需要重新调用父组件init方法重新初始化宽度。 Author by Dio Zhu. on 2017.3.10\n            }\n        ")])]),t._v(" "),i("div",{staticClass:"num"},t._l(300,function(e){return i("p",{key:e},[t._v("模拟数据"+t._s(e))])})),t._v(" "),i("div",{staticClass:"blank"})],1)},[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"attributes"},[i("h2",[t._v("API")]),t._v(" "),i("table",[i("tr",[i("th",[t._v("参数")]),i("th",[t._v("说明")]),i("th",[t._v("类型")]),i("th",[t._v("可选")]),i("th",[t._v("默认")])]),t._v(" "),i("tr",[i("td",[t._v("fixed")]),i("td",[t._v("屏幕滚动时，是否固定")]),i("td",[t._v("Boolean")]),i("td",[t._v("-")]),i("td",[t._v("-")])]),t._v(" "),i("tr",[i("th",[t._v("slots")]),i("th",{attrs:{colspan:"4"}},[t._v("说明")])]),t._v(" "),i("tr",[i("td",[t._v("-")]),i("td",{attrs:{colspan:"4"}},[t._v("需滚动的内容")])])])])}],!1,null,null,null);e.default=o.exports},"d/Ej":function(t,e,i){"use strict";var n=i("Wyo3");i.n(n).a},h6FD:function(t,e,i){"use strict";var n=i("2xt5");i.n(n).a},iQJk:function(t,e,i){"use strict";var n=i("YJXF"),s={name:"v-feed",props:{id:String,feedId:String,imgUrl:String,msgNum:String,title:String,subtitle:String,sex:String,age:String,desc:String,classes:String,iconFunc:Function},data:function(){return{}},computed:{feedImg:function(){return n.m(this.imgUrl)},feedClass:function(){return/^o_/.test(this.feedId)||/^s_/.test(this.feedId)?"square":/^g_/.test(this.feedId)?"hexagon":"circle"}},created:function(){},methods:{handleClick:function(t){this.iconFunc&&"function"==typeof this.iconFunc&&(t.stopPropagation(),t.preventDefault(),this.iconFunc(),this.$toast({message:"您是不是想去个人中心？",duration:1e3,position:"bottom"}))}}},a=(i("F94j"),i("KHd+")),o=Object(a.a)(s,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"v-feed",class:[t.classes]},[i("div",{on:{click:t.handleClick}},[i("div",{staticClass:"v-feed__img",class:[t.feedClass]},[i("img",{attrs:{src:t.feedImg}})]),0<t.msgNum?i("i",{staticClass:"v-feed__num",class:[{mix:9<t.msgNum}],domProps:{textContent:t._s(t.msgNum)}}):t._e()]),t._v(" "),i("div",{staticClass:"v-feed__con"},[i("div",{staticClass:"v-feed__con-info"},[i("div",{staticClass:"v-feed__tit",domProps:{textContent:t._s(t.title)}}),t._v(" "),t.sex?i("div",{staticClass:"v-feed__sex icon",class:[{"icon-male":"1"==t.sex},{"icon-female":"2"==t.sex}]}):t._e(),t._v(" "),t.age?i("div",{staticClass:"v-feed__age",domProps:{textContent:t._s(t.age)}}):t._e(),t._v(" "),t.desc?i("div",{staticClass:"v-feed__desc",domProps:{textContent:t._s(t.desc)}}):t._e()]),t._v(" "),i("div",{staticClass:"v-feed__sub",domProps:{textContent:t._s(t.subtitle)}})])])},[],!1,null,null,null);e.a=o.exports}}]);